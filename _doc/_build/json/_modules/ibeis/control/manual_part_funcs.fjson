{"parents": [{"link": "../../../", "title": "Module code"}, {"link": "../../", "title": "ibeis"}, {"link": "../", "title": "ibeis.control"}], "title": "ibeis.control.manual_part_funcs", "body": "<h1>Source code for ibeis.control.manual_part_funcs</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">Autogen:</span>\n<span class=\"sd\">    python -c &quot;import utool as ut; ut.write_modscript_alias(&#39;Tgen.sh&#39;, &#39;ibeis.templates.template_generator&#39;)&quot;  # NOQA</span>\n<span class=\"sd\">    sh Tgen.sh --key part --invert --Tcfg with_getters=True with_setters=True --modfname manual_part_funcs --funcname-filter=age_m  # NOQA</span>\n<span class=\"sd\">    sh Tgen.sh --key part --invert --Tcfg with_getters=True with_setters=True --modfname manual_part_funcs --funcname-filter=is_  # NOQA</span>\n<span class=\"sd\">    sh Tgen.sh --key part --invert --Tcfg with_getters=True with_setters=True --modfname manual_part_funcs --funcname-filter=is_ --diff  # NOQA</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"k\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span><span class=\"p\">,</span> <span class=\"n\">unicode_literals</span>\n<span class=\"kn\">import</span> <span class=\"nn\">six</span>\n<span class=\"kn\">import</span> <span class=\"nn\">uuid</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis</span> <span class=\"k\">import</span> <span class=\"n\">constants</span> <span class=\"k\">as</span> <span class=\"n\">const</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.control</span> <span class=\"k\">import</span> <span class=\"n\">accessor_decors</span><span class=\"p\">,</span> <span class=\"n\">controller_inject</span>\n<span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.control.controller_inject</span> <span class=\"k\">import</span> <span class=\"n\">make_ibs_register_decorator</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.web</span> <span class=\"k\">import</span> <span class=\"n\">routes_ajax</span>\n<span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">rrr</span><span class=\"p\">,</span> <span class=\"n\">profile</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">inject2</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">CLASS_INJECT_KEY</span><span class=\"p\">,</span> <span class=\"n\">register_ibs_method</span> <span class=\"o\">=</span> <span class=\"n\">make_ibs_register_decorator</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">register_api</span>   <span class=\"o\">=</span> <span class=\"n\">controller_inject</span><span class=\"o\">.</span><span class=\"n\">get_ibeis_flask_api</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">PART_NOTE</span>               <span class=\"o\">=</span> <span class=\"s1\">&#39;part_note&#39;</span>\n<span class=\"n\">PART_NUM_VERTS</span>          <span class=\"o\">=</span> <span class=\"s1\">&#39;part_num_verts&#39;</span>\n<span class=\"n\">PART_ROWID</span>              <span class=\"o\">=</span> <span class=\"s1\">&#39;part_rowid&#39;</span>\n<span class=\"n\">PART_TAG_TEXT</span>           <span class=\"o\">=</span> <span class=\"s1\">&#39;part_tag_text&#39;</span>\n<span class=\"n\">PART_THETA</span>              <span class=\"o\">=</span> <span class=\"s1\">&#39;part_theta&#39;</span>\n<span class=\"n\">PART_VERTS</span>              <span class=\"o\">=</span> <span class=\"s1\">&#39;part_verts&#39;</span>\n<span class=\"n\">PART_UUID</span>               <span class=\"o\">=</span> <span class=\"s1\">&#39;part_uuid&#39;</span>\n<span class=\"n\">PART_QUALITY</span>            <span class=\"o\">=</span> <span class=\"s1\">&#39;part_quality&#39;</span>\n<span class=\"n\">PART_STAGED_FLAG</span>        <span class=\"o\">=</span> <span class=\"s1\">&#39;part_staged_flag&#39;</span>\n<span class=\"n\">PART_STAGED_USER_ID</span>     <span class=\"o\">=</span> <span class=\"s1\">&#39;part_staged_user_identity&#39;</span>\n\n\n<span class=\"c1\"># ==========</span>\n<span class=\"c1\"># IDERS</span>\n<span class=\"c1\"># ==========</span>\n\n\n<span class=\"c1\"># TODO CACHE THIS AND FIND WHAT IT SHOULD INVALIDATE IT</span>\n<span class=\"c1\"># ADD PARTS, DELETE PARTS ANYTHING ELSE?</span>\n<span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">ider</span>\n<span class=\"k\">def</span> <span class=\"nf\">_get_all_part_rowids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list):  all unfiltered part_rowids (part rowids)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">all_part_rowids</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get_all_rowids</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">all_part_rowids</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">all_part_rowids</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">return</span> <span class=\"n\">all_part_rowids</span>\n\n\n<div class=\"viewcode-block\" id=\"get_valid_part_rowids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_valid_part_rowids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">ider</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_valid_part_rowids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">include_only_aid_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n                          <span class=\"n\">is_staged</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">viewpoint</span><span class=\"o\">=</span><span class=\"s1\">&#39;no-filter&#39;</span><span class=\"p\">,</span> <span class=\"n\">minqual</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">_get_all_part_rowids</span><span class=\"p\">()</span>\n\n    <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">filter_part_set</span><span class=\"p\">(</span>\n        <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">include_only_aid_list</span><span class=\"o\">=</span><span class=\"n\">include_only_aid_list</span><span class=\"p\">,</span>\n        <span class=\"n\">is_staged</span><span class=\"o\">=</span><span class=\"n\">is_staged</span><span class=\"p\">,</span> <span class=\"n\">viewpoint</span><span class=\"o\">=</span><span class=\"n\">viewpoint</span><span class=\"p\">,</span> <span class=\"n\">minqual</span><span class=\"o\">=</span><span class=\"n\">minqual</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_rowid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_num_parts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_num_parts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_num_parts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Number of valid parts</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_valid_part_rowids</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"part_src_api\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.part_src_api\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/&lt;rowid&gt;/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">part_src_api</span><span class=\"p\">(</span><span class=\"n\">rowid</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns the base64 encoded image of part &lt;rowid&gt;</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/&lt;rowid&gt;/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">return</span> <span class=\"n\">routes_ajax</span><span class=\"o\">.</span><span class=\"n\">part_src</span><span class=\"p\">(</span><span class=\"n\">rowid</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"filter_part_set\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.filter_part_set\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">filter_part_set</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">include_only_aid_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n                    <span class=\"n\">is_staged</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">viewpoint</span><span class=\"o\">=</span><span class=\"s1\">&#39;no-filter&#39;</span><span class=\"p\">,</span> <span class=\"n\">minqual</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"c1\"># -- valid part_rowid filtering --</span>\n\n    <span class=\"c1\"># filter by is_staged</span>\n    <span class=\"k\">if</span> <span class=\"n\">is_staged</span> <span class=\"ow\">is</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n        <span class=\"c1\"># corresponding unoptimized hack for is_staged</span>\n        <span class=\"n\">flag_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_staged_flags</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n        <span class=\"n\">part_rowid_list</span>  <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">compress</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">flag_list</span><span class=\"p\">)</span>\n    <span class=\"k\">elif</span> <span class=\"n\">is_staged</span> <span class=\"ow\">is</span> <span class=\"kc\">False</span><span class=\"p\">:</span>\n        <span class=\"n\">flag_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_staged_flags</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n        <span class=\"n\">part_rowid_list</span>  <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">filterfalse_items</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">flag_list</span><span class=\"p\">)</span>\n\n    <span class=\"k\">if</span> <span class=\"n\">include_only_aid_list</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">gid_list</span>     <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_gids</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n        <span class=\"n\">is_valid_gid</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">gid</span> <span class=\"ow\">in</span> <span class=\"n\">include_only_aid_list</span> <span class=\"k\">for</span> <span class=\"n\">gid</span> <span class=\"ow\">in</span> <span class=\"n\">gid_list</span><span class=\"p\">]</span>\n        <span class=\"n\">part_rowid_list</span>     <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">compress</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">is_valid_gid</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">viewpoint</span> <span class=\"o\">!=</span> <span class=\"s1\">&#39;no-filter&#39;</span><span class=\"p\">:</span>\n        <span class=\"n\">viewpoint_list</span>     <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_viewpoints</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n        <span class=\"n\">is_valid_viewpoint</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">viewpoint</span> <span class=\"o\">==</span> <span class=\"n\">flag</span> <span class=\"k\">for</span> <span class=\"n\">flag</span> <span class=\"ow\">in</span> <span class=\"n\">viewpoint_list</span><span class=\"p\">]</span>\n        <span class=\"n\">part_rowid_list</span>     <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">compress</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">is_valid_viewpoint</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">minqual</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">filter_part_rowids_to_quality</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">minqual</span><span class=\"p\">,</span> <span class=\"n\">unknown_ok</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_rowid_list</span></div>\n\n\n<span class=\"c1\"># ==========</span>\n<span class=\"c1\"># ADDERS</span>\n<span class=\"c1\"># ==========</span>\n\n\n<div class=\"viewcode-block\" id=\"add_parts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.add_parts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">adder</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;POST&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">add_parts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">,</span> <span class=\"n\">bbox_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">theta_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n                <span class=\"n\">detect_confidence_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">notes_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n                <span class=\"n\">vert_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">part_uuid_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">viewpoint_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n                <span class=\"n\">quality_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">type_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">staged_uuid_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n                <span class=\"n\">staged_user_id_list</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Adds an part to annotations</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        aid_list                 (list): annotation rowids to add part to</span>\n<span class=\"sd\">        bbox_list                (list): of [x, y, w, h] bounding boxes for each annotation (supply verts instead)</span>\n<span class=\"sd\">        theta_list               (list): orientations of parts</span>\n<span class=\"sd\">        vert_list                (list): alternative to bounding box</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_rowid_list</span>\n\n<span class=\"sd\">    Ignore:</span>\n<span class=\"sd\">       detect_confidence_list = None</span>\n<span class=\"sd\">       notes_list = None</span>\n<span class=\"sd\">       part_uuid_list = None</span>\n<span class=\"sd\">       viewpoint_list = None</span>\n<span class=\"sd\">       quality_list = None</span>\n<span class=\"sd\">       type_list = None</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: POST</span>\n<span class=\"sd\">        URL:    /api/part/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"c1\">#ut.embed()</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">vtool</span> <span class=\"k\">import</span> <span class=\"n\">geometry</span>\n    <span class=\"k\">if</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">VERBOSE</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[ibs] adding parts&#39;</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Prepare the SQL input</span>\n    <span class=\"c1\"># For import only, we can specify both by setting import_override to True</span>\n    <span class=\"k\">assert</span> <span class=\"nb\">bool</span><span class=\"p\">(</span><span class=\"n\">bbox_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">)</span> <span class=\"o\">!=</span> <span class=\"nb\">bool</span><span class=\"p\">(</span><span class=\"n\">vert_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">),</span> <span class=\"p\">(</span>\n        <span class=\"s1\">&#39;must specify exactly one of bbox_list or vert_list&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">assert_all_not_None</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">,</span> <span class=\"s1\">&#39;aid_list&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">if</span> <span class=\"n\">vert_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">vert_list</span> <span class=\"o\">=</span> <span class=\"n\">geometry</span><span class=\"o\">.</span><span class=\"n\">verts_list_from_bboxes_list</span><span class=\"p\">(</span><span class=\"n\">bbox_list</span><span class=\"p\">)</span>\n    <span class=\"k\">elif</span> <span class=\"n\">bbox_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">bbox_list</span> <span class=\"o\">=</span> <span class=\"n\">geometry</span><span class=\"o\">.</span><span class=\"n\">bboxes_from_vert_list</span><span class=\"p\">(</span><span class=\"n\">vert_list</span><span class=\"p\">)</span>\n\n    <span class=\"k\">if</span> <span class=\"n\">theta_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">theta_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mf\">0.0</span> <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">))]</span>\n\n    <span class=\"n\">len_bbox</span>    <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">bbox_list</span><span class=\"p\">)</span>\n    <span class=\"n\">len_vert</span>    <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">vert_list</span><span class=\"p\">)</span>\n    <span class=\"n\">len_aid</span>     <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">len_theta</span>   <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">theta_list</span><span class=\"p\">)</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"k\">assert</span> <span class=\"n\">len_vert</span>  <span class=\"o\">==</span> <span class=\"n\">len_bbox</span><span class=\"p\">,</span> <span class=\"s1\">&#39;bbox and verts are not of same size&#39;</span>\n        <span class=\"k\">assert</span> <span class=\"n\">len_aid</span>   <span class=\"o\">==</span> <span class=\"n\">len_bbox</span><span class=\"p\">,</span> <span class=\"s1\">&#39;bbox and aid are not of same size&#39;</span>\n        <span class=\"k\">assert</span> <span class=\"n\">len_aid</span>   <span class=\"o\">==</span> <span class=\"n\">len_theta</span><span class=\"p\">,</span> <span class=\"s1\">&#39;bbox and aid are not of same size&#39;</span>\n    <span class=\"k\">except</span> <span class=\"ne\">AssertionError</span> <span class=\"k\">as</span> <span class=\"n\">ex</span><span class=\"p\">:</span>\n        <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">printex</span><span class=\"p\">(</span><span class=\"n\">ex</span><span class=\"p\">,</span> <span class=\"n\">key_list</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;len_vert&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;len_aid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;len_bbox&#39;</span>\n                                    <span class=\"s1\">&#39;len_theta&#39;</span><span class=\"p\">])</span>\n        <span class=\"k\">raise</span>\n\n    <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n        <span class=\"c1\"># nothing is being added</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[ibs] WARNING: 0 parts are being added!&#39;</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">repr2</span><span class=\"p\">(</span><span class=\"nb\">locals</span><span class=\"p\">()))</span>\n        <span class=\"k\">return</span> <span class=\"p\">[]</span>\n\n    <span class=\"k\">if</span> <span class=\"n\">detect_confidence_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">detect_confidence_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mf\">0.0</span> <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">))]</span>\n    <span class=\"k\">if</span> <span class=\"n\">notes_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">notes_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">&#39;&#39;</span> <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">))]</span>\n    <span class=\"k\">if</span> <span class=\"n\">viewpoint_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">viewpoint_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mf\">1.0</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">type_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">type_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">UNKNOWN</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span>\n\n    <span class=\"n\">nVert_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">verts</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">verts</span> <span class=\"ow\">in</span> <span class=\"n\">vert_list</span><span class=\"p\">]</span>\n    <span class=\"n\">vertstr_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">six</span><span class=\"o\">.</span><span class=\"n\">text_type</span><span class=\"p\">(</span><span class=\"n\">verts</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">verts</span> <span class=\"ow\">in</span> <span class=\"n\">vert_list</span><span class=\"p\">]</span>\n    <span class=\"n\">xtl_list</span><span class=\"p\">,</span> <span class=\"n\">ytl_list</span><span class=\"p\">,</span> <span class=\"n\">width_list</span><span class=\"p\">,</span> <span class=\"n\">height_list</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">bbox_list</span><span class=\"p\">))</span>\n    <span class=\"k\">assert</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">nVert_list</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">vertstr_list</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># Build ~~deterministic?~~ random and unique PART ids</span>\n    <span class=\"k\">if</span> <span class=\"n\">part_uuid_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">part_uuid_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">uuid</span><span class=\"o\">.</span><span class=\"n\">uuid4</span><span class=\"p\">()</span> <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">))]</span>\n\n    <span class=\"k\">if</span> <span class=\"n\">staged_uuid_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">staged_uuid_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"kc\">None</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">is_staged_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"n\">staged_uuid</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span>\n        <span class=\"k\">for</span> <span class=\"n\">staged_uuid</span> <span class=\"ow\">in</span> <span class=\"n\">staged_uuid_list</span>\n    <span class=\"p\">]</span>\n    <span class=\"k\">if</span> <span class=\"n\">staged_user_id_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">staged_user_id_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"kc\">None</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># Define arguments to insert</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_uuid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_xtl&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_ytl&#39;</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;part_width&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_height&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_theta&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_num_verts&#39;</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;part_verts&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_viewpoint&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_detect_confidence&#39;</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;part_note&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_type&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_staged_flag&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_staged_uuid&#39;</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;part_staged_user_identity&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"n\">check_uuid_flags</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">auuid</span><span class=\"p\">,</span> <span class=\"n\">uuid</span><span class=\"o\">.</span><span class=\"n\">UUID</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">auuid</span> <span class=\"ow\">in</span> <span class=\"n\">part_uuid_list</span><span class=\"p\">]</span>\n    <span class=\"k\">if</span> <span class=\"nb\">any</span><span class=\"p\">(</span><span class=\"n\">check_uuid_flags</span><span class=\"p\">):</span>\n        <span class=\"n\">pos</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">list_where</span><span class=\"p\">(</span><span class=\"n\">check_uuid_flags</span><span class=\"p\">)</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s1\">&#39;positions </span><span class=\"si\">%r</span><span class=\"s1\"> have malformated UUIDS&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">pos</span><span class=\"p\">,))</span>\n\n    <span class=\"n\">params_iter</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">part_uuid_list</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">,</span> <span class=\"n\">xtl_list</span><span class=\"p\">,</span> <span class=\"n\">ytl_list</span><span class=\"p\">,</span>\n                            <span class=\"n\">width_list</span><span class=\"p\">,</span> <span class=\"n\">height_list</span><span class=\"p\">,</span> <span class=\"n\">theta_list</span><span class=\"p\">,</span> <span class=\"n\">nVert_list</span><span class=\"p\">,</span>\n                            <span class=\"n\">vertstr_list</span><span class=\"p\">,</span> <span class=\"n\">viewpoint_list</span><span class=\"p\">,</span> <span class=\"n\">detect_confidence_list</span><span class=\"p\">,</span>\n                            <span class=\"n\">notes_list</span><span class=\"p\">,</span> <span class=\"n\">type_list</span><span class=\"p\">,</span> <span class=\"n\">is_staged_list</span><span class=\"p\">,</span> <span class=\"n\">staged_uuid_list</span><span class=\"p\">,</span>\n                            <span class=\"n\">staged_user_id_list</span><span class=\"p\">))</span>\n\n    <span class=\"c1\"># Execute add PARTs SQL</span>\n    <span class=\"n\">superkey_paramx</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,)</span>\n    <span class=\"n\">get_rowid_from_superkey</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_rowids_from_uuid</span>\n    <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_cleanly</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">params_iter</span><span class=\"p\">,</span>\n                                         <span class=\"n\">get_rowid_from_superkey</span><span class=\"p\">,</span> <span class=\"n\">superkey_paramx</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_rowid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_rows\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_rows\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"c1\"># @register_api(&#39;/api/part/rows/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_rows</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Auto-docstr for &#39;get_part_rows&#39;</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_uuid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_xtl&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_ytl&#39;</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;part_width&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_height&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_theta&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_num_verts&#39;</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;part_verts&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_viewpoint&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_detect_confidence&#39;</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;part_note&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_quality&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_type&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">rows_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span>\n                           <span class=\"n\">unpack_scalars</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">rows_list</span></div>\n\n\n<span class=\"c1\"># ==========</span>\n<span class=\"c1\"># DELETERS</span>\n<span class=\"c1\"># ==========</span>\n\n\n<div class=\"viewcode-block\" id=\"delete_parts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.delete_parts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">deleter</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">cache_invalidator</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">rowidx</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;DELETE&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">delete_parts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    deletes parts from the database</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: DELETE</span>\n<span class=\"sd\">        URL:    /api/part/</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        ibs (IBEISController):  ibeis controller object</span>\n<span class=\"sd\">        part_rowid_list (int):  list of part ids</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">if</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">VERBOSE</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[ibs] deleting </span><span class=\"si\">%d</span><span class=\"s1\"> parts&#39;</span> <span class=\"o\">%</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">))</span>\n    <span class=\"c1\"># delete parent rowid column if exists in part table</span>\n    <span class=\"k\">return</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">delete_rowids</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span></div>\n\n\n<span class=\"c1\"># ==========</span>\n<span class=\"c1\"># GETTERS</span>\n<span class=\"c1\"># ==========</span>\n\n\n<div class=\"viewcode-block\" id=\"get_part_rowids_from_uuid\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_rowids_from_uuid\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/rowid/uuid/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_rowids_from_uuid</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">uuid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): part rowids</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/rowid/uuid/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"c1\"># FIXME: MAKE SQL-METHOD FOR NON-ROWID GETTERS</span>\n    <span class=\"n\">part_rowids_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">PART_ROWID</span><span class=\"p\">,),</span> <span class=\"n\">uuid_list</span><span class=\"p\">,</span>\n                                  <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"n\">PART_UUID</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_rowids_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_missing_uuid\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_missing_uuid\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/part/uuid/missing/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_missing_uuid</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">uuid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): a list of missing part uuids</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_rowids_from_uuid</span><span class=\"p\">(</span><span class=\"n\">uuid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">zipped</span> <span class=\"o\">=</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">uuid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">missing_uuid_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span> <span class=\"n\">uuid</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span><span class=\"p\">,</span> <span class=\"n\">uuid</span> <span class=\"ow\">in</span> <span class=\"n\">zipped</span> <span class=\"k\">if</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"p\">]</span>\n    <span class=\"k\">return</span> <span class=\"n\">missing_uuid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_bboxes\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_bboxes\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@ut</span><span class=\"o\">.</span><span class=\"n\">accepts_numpy</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1toM</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/bbox/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_bboxes</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        bbox_list (list):  part bounding boxes in image space</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/bbox/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_xtl&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_ytl&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_width&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_height&#39;</span><span class=\"p\">,)</span>\n    <span class=\"n\">bbox_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">bbox_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_detect_confidence\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_detect_confidence\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/detect/confidence/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_detect_confidence</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): a list confidences that the parts is a valid detection</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/detect/confidence/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_detect_confidence_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span>\n                                              <span class=\"p\">(</span><span class=\"s1\">&#39;part_detect_confidence&#39;</span><span class=\"p\">,),</span>\n                                              <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_detect_confidence_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_gids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_gids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@ut</span><span class=\"o\">.</span><span class=\"n\">accepts_numpy</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/image/rowid/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_gids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">assume_unique</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Get parent imageation rowids of parts</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        part_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        gid_list (list):  image rowids</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/image/rowid/</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.get_valid_part_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; result = get_part_gids(ibs, part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(result)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">aid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_aids</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">gid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_annot_gids</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">gid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_image_rowids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_image_rowids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_image_rowids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_gids</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_image_uuids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_image_uuids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_image_uuids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"n\">gid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_gids</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">image_uuid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_image_uuids</span><span class=\"p\">(</span><span class=\"n\">gid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">image_uuid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_aids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_aids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@ut</span><span class=\"o\">.</span><span class=\"n\">accepts_numpy</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/annot/rowid/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_aids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">assume_unique</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Get parent annotation rowids of parts</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        part_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        aid_list (list):  annot rowids</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/annot/rowid/</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.get_valid_part_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; result = get_part_aids(ibs, part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(result)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">aid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">assume_unique</span><span class=\"o\">=</span><span class=\"n\">assume_unique</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">aid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_annot_rowids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_annot_rowids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_annot_rowids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_aids</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_annot_uuids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_annot_uuids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_annot_uuids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"n\">aid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_aids</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">annot_uuid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_annot_uuids</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">annot_uuid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_thetas\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_thetas\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/theta/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_thetas</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        theta_list (list): a list of floats describing the angles of each part</span>\n\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --test-get_part_thetas</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/theta/</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;NAUT_test&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.get_valid_part_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; result = get_part_thetas(ibs, part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(result)</span>\n<span class=\"sd\">        []</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">theta_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_theta&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">theta_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_uuids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_uuids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/uuid/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_uuids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_uuid_list a list of part uuids by part_rowid</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/uuid/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_uuid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_uuid&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_uuid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_valid_part_uuids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_valid_part_uuids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/part/uuid/valid/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_valid_part_uuids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_uuid_list a list of part uuids for all valid part_rowids</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_valid_part_rowids</span><span class=\"p\">()</span>\n    <span class=\"n\">part_uuid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_uuids</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_uuid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_verts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_verts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/vert/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_verts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        vert_list (list): the vertices that form the polygon of each part</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/vert/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">ibeis.algo.preproc</span> <span class=\"k\">import</span> <span class=\"n\">preproc_part</span>\n    <span class=\"n\">vertstr_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_verts&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">vert_list</span> <span class=\"o\">=</span> <span class=\"n\">preproc_part</span><span class=\"o\">.</span><span class=\"n\">postget_part_verts</span><span class=\"p\">(</span><span class=\"n\">vertstr_list</span><span class=\"p\">)</span>\n    <span class=\"c1\">#vert_list = [eval(vertstr, {}, {}) for vertstr in vertstr_list]</span>\n    <span class=\"k\">return</span> <span class=\"n\">vert_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_rotated_verts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_rotated_verts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/vert/rotated/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_rotated_verts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        rotated_vert_list (list): verticies after rotation by theta.</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/vert/rotated/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">vtool</span> <span class=\"k\">as</span> <span class=\"nn\">vt</span>\n    <span class=\"n\">vert_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_verts</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">theta_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_thetas</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Convex bounding boxes for verticies</span>\n    <span class=\"n\">bbox_list</span> <span class=\"o\">=</span> <span class=\"n\">vt</span><span class=\"o\">.</span><span class=\"n\">geometry</span><span class=\"o\">.</span><span class=\"n\">bboxes_from_vert_list</span><span class=\"p\">(</span><span class=\"n\">vert_list</span><span class=\"p\">)</span>\n    <span class=\"n\">rot_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">vt</span><span class=\"o\">.</span><span class=\"n\">rotation_around_bbox_mat3x3</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">bbox</span><span class=\"p\">)</span>\n                <span class=\"k\">for</span> <span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">bbox</span> <span class=\"ow\">in</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">theta_list</span><span class=\"p\">,</span> <span class=\"n\">bbox_list</span><span class=\"p\">)]</span>\n    <span class=\"n\">rotated_vert_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">vt</span><span class=\"o\">.</span><span class=\"n\">transform_points_with_homography</span><span class=\"p\">(</span><span class=\"n\">rot</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"n\">verts</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"o\">.</span><span class=\"n\">tolist</span><span class=\"p\">()</span>\n                         <span class=\"k\">for</span> <span class=\"n\">rot</span><span class=\"p\">,</span> <span class=\"n\">verts</span> <span class=\"ow\">in</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">rot_list</span><span class=\"p\">,</span> <span class=\"n\">vert_list</span><span class=\"p\">)]</span>\n    <span class=\"c1\">#vert_list = [eval(vertstr, {}, {}) for vertstr in vertstr_list]</span>\n    <span class=\"k\">return</span> <span class=\"n\">rotated_vert_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_notes\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_notes\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/note/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_notes</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        part_notes_list (list): a list of part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/note/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_notes_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">PART_NOTE</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_notes_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_types\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_types\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/type/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_types</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        part_notes_list (list): a list of part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/note/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_type_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_type&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_type_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_viewpoints\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_viewpoints\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/viewpoint/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_viewpoints</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        part_notes_list (list): a list of part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/note/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_viewpoint_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_viewpoint&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_viewpoint_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_num_verts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_num_verts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/num/vert/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_num_verts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        nVerts_list (list): the number of vertices that form the polygon of each part</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/num/vert/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">nVerts_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">PART_NUM_VERTS</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">nVerts_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_qualities\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_qualities\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">cache_getter</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">PART_QUALITY</span><span class=\"p\">)</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/quality/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_qualities</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    part_quality_list &lt;- part.part_quality[part_rowid_list]</span>\n\n<span class=\"sd\">    gets data from the &quot;native&quot; column &quot;part_quality&quot; in the &quot;part&quot; table</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        part_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_quality_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_table_column</span>\n<span class=\"sd\">        col = part_quality</span>\n<span class=\"sd\">        tbl = part</span>\n\n<span class=\"sd\">    SeeAlso:</span>\n<span class=\"sd\">        ibeis.const.QUALITY_INT_TO_TEXT</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/quality/</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, qreq_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs._get_all_part_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; eager = True</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_quality_list = ibs.get_part_qualities(part_rowid_list, eager=eager)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(&#39;part_quality_list = %r&#39; % (part_quality_list,))</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert len(part_rowid_list) == len(part_quality_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">part_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">PART_QUALITY</span><span class=\"p\">,)</span>\n    <span class=\"n\">part_quality_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"s1\">&#39;rowid&#39;</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_quality_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_quality_texts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_quality_texts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/quality/text/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_quality_texts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Auto-docstr for &#39;get_part_quality_texts&#39;</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/quality/text/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">quality_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_qualities</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">quality_text_list</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">dict_take</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">QUALITY_INT_TO_TEXT</span><span class=\"p\">,</span> <span class=\"n\">quality_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">quality_text_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_isjunk\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_isjunk\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/part/isjunk/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_isjunk</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Auto-docstr for &#39;get_part_isjunk&#39;</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">qual_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_part_qualities</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"c1\">#isjunk_list = [qual == const.QUALITY_TEXT_TO_INT[&#39;junk&#39;] for qual in qual_list]</span>\n    <span class=\"n\">isjunk_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">qual</span> <span class=\"ow\">in</span> <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">QUALITY_TEXT_TO_INTS</span><span class=\"p\">[</span><span class=\"s1\">&#39;junk&#39;</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">qual</span> <span class=\"ow\">in</span> <span class=\"n\">qual_list</span><span class=\"p\">]</span>\n    <span class=\"k\">return</span> <span class=\"n\">isjunk_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_reviewed\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_reviewed\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/reviewed/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_reviewed</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): &quot;All Instances Found&quot; flag, true if all objects of interest</span>\n<span class=\"sd\">    (animals) have an PART in the part</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/reviewed/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">reviewed_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_toggle_reviewed&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">reviewed_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_tag_text\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_tag_text\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_tag_text</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot; part_tags_list &lt;- part.part_tags[part_rowid_list]</span>\n\n<span class=\"sd\">    gets data from the &quot;native&quot; column &quot;part_tags&quot; in the &quot;part&quot; table</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        part_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_tags_list</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # DISABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs._get_all_part_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; eager = True</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_tags_list = ibs.get_part_tag_text(part_rowid_list, eager=eager)</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert len(part_rowid_list) == len(part_tags_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">part_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">PART_TAG_TEXT</span><span class=\"p\">,)</span>\n    <span class=\"n\">part_tags_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"s1\">&#39;rowid&#39;</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_tags_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_staged_flags\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_staged_flags\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_staged_flags</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    returns if an part is staged</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        ibs (IBEISController):  ibeis controller object</span>\n<span class=\"sd\">        part_rowid_list (int):  list of part ids</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_staged_flag_list - True if part is staged</span>\n\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --test-get_part_staged_flags</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/staged/</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.get_valid_part_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; gid_list = get_part_staged_flags(ibs, part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; result = str(gid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(result)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_staged_flag_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span>\n                                          <span class=\"p\">(</span><span class=\"n\">PART_STAGED_FLAG</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_staged_flag_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_staged_uuids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_staged_uuids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/uuid/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_staged_uuids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_uuid_list a list of image uuids by aid</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/staged/uuid/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_uuid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_uuid&#39;</span><span class=\"p\">,),</span> <span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_uuid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_staged_user_ids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_staged_user_ids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/user/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_staged_user_ids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    returns if an part is staged</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        ibs (IBEISController):  ibeis controller object</span>\n<span class=\"sd\">        part_rowid_list (int):  list of part ids</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: part_staged_user_id_list - True if part is staged</span>\n\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --test-get_part_staged_user_ids</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/staged/user/</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.get_valid_part_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; gid_list = get_part_staged_user_ids(ibs, part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; result = str(gid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(result)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">part_staged_user_id_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span>\n                                           <span class=\"p\">(</span><span class=\"n\">PART_STAGED_USER_ID</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">part_staged_user_id_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_staged_metadata\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_staged_metadata\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/metadata/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_staged_metadata</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">return_raw</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): part metadata dictionary</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/staged/metadata/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">metadata_str_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_metadata_json&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">metadata_list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">metadata_str</span> <span class=\"ow\">in</span> <span class=\"n\">metadata_str_list</span><span class=\"p\">:</span>\n        <span class=\"k\">if</span> <span class=\"n\">metadata_str</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"s1\">&#39;&#39;</span><span class=\"p\">]:</span>\n            <span class=\"n\">metadata_dict</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">metadata_dict</span> <span class=\"o\">=</span> <span class=\"n\">metadata_str</span> <span class=\"k\">if</span> <span class=\"n\">return_raw</span> <span class=\"k\">else</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">from_json</span><span class=\"p\">(</span><span class=\"n\">metadata_str</span><span class=\"p\">)</span>\n        <span class=\"n\">metadata_list</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">metadata_dict</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">metadata_list</span></div>\n\n\n<span class=\"c1\">#### SETTERS ####  # NOQA</span>\n\n\n<span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/annot/rowid/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">_set_part_aid</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/annot/rowid</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">confidence</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">confidence</span> <span class=\"ow\">in</span> <span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"set_part_bboxes\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_bboxes\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/bbox/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_bboxes</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">bbox_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets bboxes of a list of parts by part_rowid,</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        part_rowid_list (list of rowids): list of part rowids</span>\n<span class=\"sd\">        bbox_list (list of (x, y, w, h)): new bounding boxes for each part_rowid</span>\n\n<span class=\"sd\">    Note:</span>\n<span class=\"sd\">        set_part_bboxes is a proxy for set_part_verts</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/bbox/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">vtool</span> <span class=\"k\">import</span> <span class=\"n\">geometry</span>\n    <span class=\"c1\"># changing the bboxes also changes the bounding polygon</span>\n    <span class=\"n\">vert_list</span> <span class=\"o\">=</span> <span class=\"n\">geometry</span><span class=\"o\">.</span><span class=\"n\">verts_list_from_bboxes_list</span><span class=\"p\">(</span><span class=\"n\">bbox_list</span><span class=\"p\">)</span>\n    <span class=\"c1\"># naively overwrite the bounding polygon with a rectangle - for now trust the user!</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">set_part_verts</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">vert_list</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_detect_confidence\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_detect_confidence\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/detect/confidence/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_detect_confidence</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">confidence_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/detect/confidence/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">confidence</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">confidence</span> <span class=\"ow\">in</span> <span class=\"n\">confidence_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_detect_confidence&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_notes\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_notes\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/note/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_notes</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">notes_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/note/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">notes</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">notes</span> <span class=\"ow\">in</span> <span class=\"n\">notes_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">PART_NOTE</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_types\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_types\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/type/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_types</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">type_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/note/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">type_</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">type_</span> <span class=\"ow\">in</span> <span class=\"n\">type_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_type&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_viewpoints\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_viewpoints\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/viewpoint/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_viewpoints</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">viewpoint_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets part notes</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/note/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">viewpoint_</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">viewpoint_</span> <span class=\"ow\">in</span> <span class=\"n\">viewpoint_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_viewpoint&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_tag_text\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_tag_text\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_tag_text</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">part_tags_list</span><span class=\"p\">,</span> <span class=\"n\">duplicate_behavior</span><span class=\"o\">=</span><span class=\"s1\">&#39;error&#39;</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot; part_tags_list -&gt; part.part_tags[part_rowid_list]</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        part_rowid_list</span>\n<span class=\"sd\">        part_tags_list</span>\n\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"c1\">#print(&#39;[ibs] set_part_tag_text of part_rowid_list=%r to tags=%r&#39; % (part_rowid_list, part_tags_list))</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">part_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">PART_TAG_TEXT</span><span class=\"p\">,)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">part_tags_list</span><span class=\"p\">,</span>\n               <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">duplicate_behavior</span><span class=\"o\">=</span><span class=\"n\">duplicate_behavior</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_thetas\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_thetas\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/theta/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_thetas</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">theta_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets thetas of a list of part_rowid_list</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/theta/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_list</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">theta</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">theta</span> <span class=\"ow\">in</span> <span class=\"n\">theta_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">PART_THETA</span><span class=\"p\">,),</span> <span class=\"n\">val_list</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_verts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_verts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/vert/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_verts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">verts_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets the vertices [(x, y), ...] of a list of part_rowid_list</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/vert/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">vtool</span> <span class=\"k\">import</span> <span class=\"n\">geometry</span>\n    <span class=\"n\">nInput</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Compute data to set</span>\n    <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">verts_list</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">):</span>\n        <span class=\"n\">verts_list</span> <span class=\"o\">=</span> <span class=\"n\">verts_list</span><span class=\"o\">.</span><span class=\"n\">tolist</span><span class=\"p\">()</span>\n    <span class=\"k\">for</span> <span class=\"n\">index</span><span class=\"p\">,</span> <span class=\"n\">vert_list</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">verts_list</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">vert_list</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">):</span>\n            <span class=\"n\">verts_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">vert_list</span><span class=\"o\">.</span><span class=\"n\">tolist</span><span class=\"p\">()</span>\n    <span class=\"n\">num_verts_list</span>   <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">,</span> <span class=\"n\">verts_list</span><span class=\"p\">))</span>\n    <span class=\"n\">verts_as_strings</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"n\">six</span><span class=\"o\">.</span><span class=\"n\">text_type</span><span class=\"p\">,</span> <span class=\"n\">verts_list</span><span class=\"p\">))</span>\n    <span class=\"n\">id_iter1</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"c1\"># also need to set the internal number of vertices</span>\n    <span class=\"n\">val_iter1</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">num_verts</span><span class=\"p\">,</span> <span class=\"n\">verts</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">num_verts</span><span class=\"p\">,</span> <span class=\"n\">verts</span><span class=\"p\">)</span>\n                 <span class=\"ow\">in</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">num_verts_list</span><span class=\"p\">,</span> <span class=\"n\">verts_as_strings</span><span class=\"p\">))</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">PART_NUM_VERTS</span><span class=\"p\">,</span> <span class=\"n\">PART_VERTS</span><span class=\"p\">,)</span>\n    <span class=\"c1\"># SET VERTS in PART_TABLE</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">val_iter1</span><span class=\"p\">,</span> <span class=\"n\">id_iter1</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"c1\"># changing the vertices also changes the bounding boxes</span>\n    <span class=\"n\">bbox_list</span> <span class=\"o\">=</span> <span class=\"n\">geometry</span><span class=\"o\">.</span><span class=\"n\">bboxes_from_vert_list</span><span class=\"p\">(</span><span class=\"n\">verts_list</span><span class=\"p\">)</span>      <span class=\"c1\"># new bboxes</span>\n    <span class=\"n\">xtl_list</span><span class=\"p\">,</span> <span class=\"n\">ytl_list</span><span class=\"p\">,</span> <span class=\"n\">width_list</span><span class=\"p\">,</span> <span class=\"n\">height_list</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">bbox_list</span><span class=\"p\">))</span>\n    <span class=\"n\">val_iter2</span> <span class=\"o\">=</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">xtl_list</span><span class=\"p\">,</span> <span class=\"n\">ytl_list</span><span class=\"p\">,</span> <span class=\"n\">width_list</span><span class=\"p\">,</span> <span class=\"n\">height_list</span><span class=\"p\">)</span>\n    <span class=\"n\">id_iter2</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_xtl&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_ytl&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_width&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;part_height&#39;</span><span class=\"p\">,)</span>\n    <span class=\"c1\"># SET BBOX in PART_TABLE</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">val_iter2</span><span class=\"p\">,</span> <span class=\"n\">id_iter2</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_qualities\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_qualities\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">cache_invalidator</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">PART_QUALITY</span><span class=\"p\">],</span> <span class=\"n\">rowidx</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/quality/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_qualities</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">part_quality_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    part_quality_list -&gt; part.part_quality[part_rowid_list]</span>\n\n<span class=\"sd\">    A quality is an integer representing the following types:</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        part_rowid_list</span>\n<span class=\"sd\">        part_quality_list</span>\n\n<span class=\"sd\">    SeeAlso:</span>\n<span class=\"sd\">        ibeis.const.QUALITY_INT_TO_TEXT</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/quality/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">part_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">PART_QUALITY</span><span class=\"p\">,)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">part_quality_list</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_quality_texts\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_quality_texts\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/quality/text/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_quality_texts</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">quality_text_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Auto-docstr for &#39;set_part_quality_texts&#39;</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/quality/text/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">isiterable</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">):</span>\n        <span class=\"n\">part_rowid_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">part_rowid_list</span><span class=\"p\">]</span>\n    <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">quality_text_list</span><span class=\"p\">,</span> <span class=\"n\">six</span><span class=\"o\">.</span><span class=\"n\">string_types</span><span class=\"p\">):</span>\n        <span class=\"n\">quality_text_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">quality_text_list</span><span class=\"p\">]</span>\n    <span class=\"n\">quality_list</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">dict_take</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">QUALITY_TEXT_TO_INT</span><span class=\"p\">,</span> <span class=\"n\">quality_text_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">set_part_qualities</span><span class=\"p\">(</span><span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">quality_list</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_reviewed\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_reviewed\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/reviewed/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_reviewed</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">reviewed_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets the part all instances found bit</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/reviewed/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_list</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">reviewed</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">reviewed</span> <span class=\"ow\">in</span> <span class=\"n\">reviewed_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_toggle_reviewed&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_list</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">cache_invalidator</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">PART_STAGED_FLAG</span><span class=\"p\">],</span> <span class=\"n\">rowidx</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">_set_part_staged_flags</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">flag_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets if an part is staged</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/staged/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">flag</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">flag</span> <span class=\"ow\">in</span> <span class=\"n\">flag_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">PART_STAGED_FLAG</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"set_part_staged_uuids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_staged_uuids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/uuid/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_staged_uuids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">,</span> <span class=\"n\">part_uuid_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): all nids of known animals</span>\n<span class=\"sd\">        (does not include unknown names)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">aid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">aid</span> <span class=\"ow\">in</span> <span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_uuid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_uuid</span> <span class=\"ow\">in</span> <span class=\"n\">part_uuid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_uuid&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span>\n    <span class=\"n\">flag_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"n\">part_uuid</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span>\n        <span class=\"k\">for</span> <span class=\"n\">part_uuid</span> <span class=\"ow\">in</span> <span class=\"n\">part_uuid_list</span>\n    <span class=\"p\">]</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">_set_part_staged_flags</span><span class=\"p\">(</span><span class=\"n\">aid_list</span><span class=\"p\">,</span> <span class=\"n\">flag_list</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_staged_user_ids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_staged_user_ids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">cache_invalidator</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">PART_STAGED_USER_ID</span><span class=\"p\">],</span> <span class=\"n\">rowidx</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/user/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_staged_user_ids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">user_id_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets the staged part user id</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/staged/user/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">val_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">user_id</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">user_id</span> <span class=\"ow\">in</span> <span class=\"n\">user_id_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">PART_STAGED_USER_ID</span><span class=\"p\">,),</span> <span class=\"n\">val_iter</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_staged_metadata\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_staged_metadata\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/staged/metadata/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_staged_metadata</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">metadata_dict_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets the part&#39;s staged metadata using a metadata dictionary</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/staged/metadata/</span>\n\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --test-set_part_staged_metadata</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; import random</span>\n<span class=\"sd\">        &gt;&gt;&gt; # build test data</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:1]</span>\n<span class=\"sd\">        &gt;&gt;&gt; bbox_list = [[0, 0, 100, 100]] * len(aid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.add_parts(aid_list, bbox_list=bbox_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_dict_list = [</span>\n<span class=\"sd\">        &gt;&gt;&gt;     {&#39;test&#39;: random.uniform(0.0, 1.0)},</span>\n<span class=\"sd\">        &gt;&gt;&gt; ] * len(part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_dict_list))</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs.set_part_staged_metadata(part_rowid_list, metadata_dict_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; # verify results</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_dict_list_ = ibs.get_part_staged_metadata(part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_dict_list_))</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert metadata_dict_list == metadata_dict_list_</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_str_list = [ut.to_json(metadata_dict) for metadata_dict in metadata_dict_list]</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_str_list))</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_str_list_ = ibs.get_part_staged_metadata(part_rowid_list, return_raw=True)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_str_list_))</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert metadata_str_list == metadata_str_list_</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs.delete_parts(part_rowid_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">metadata_str_list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">metadata_dict</span> <span class=\"ow\">in</span> <span class=\"n\">metadata_dict_list</span><span class=\"p\">:</span>\n        <span class=\"n\">metadata_str</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">to_json</span><span class=\"p\">(</span><span class=\"n\">metadata_dict</span><span class=\"p\">)</span>\n        <span class=\"n\">metadata_str_list</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">metadata_str</span><span class=\"p\">)</span>\n    <span class=\"n\">val_list</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">metadata_str</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">metadata_str</span> <span class=\"ow\">in</span> <span class=\"n\">metadata_str_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_metadata_json&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_list</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_metadata\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_metadata\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/metadata/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_metadata</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">return_raw</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): part metadata dictionary</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/metadata/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">metadata_str_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_metadata_json&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">metadata_list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">metadata_str</span> <span class=\"ow\">in</span> <span class=\"n\">metadata_str_list</span><span class=\"p\">:</span>\n        <span class=\"k\">if</span> <span class=\"n\">metadata_str</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"s1\">&#39;&#39;</span><span class=\"p\">]:</span>\n            <span class=\"n\">metadata_dict</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">metadata_dict</span> <span class=\"o\">=</span> <span class=\"n\">metadata_str</span> <span class=\"k\">if</span> <span class=\"n\">return_raw</span> <span class=\"k\">else</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">from_json</span><span class=\"p\">(</span><span class=\"n\">metadata_str</span><span class=\"p\">)</span>\n        <span class=\"n\">metadata_list</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">metadata_dict</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">metadata_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_metadata\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_metadata\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/metadata/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_metadata</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">metadata_dict_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets the part&#39;s metadata using a metadata dictionary</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/metadata/</span>\n\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --test-set_part_metadata</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; import random</span>\n<span class=\"sd\">        &gt;&gt;&gt; # build test data</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:1]</span>\n<span class=\"sd\">        &gt;&gt;&gt; bbox_list = [[0, 0, 100, 100]] * len(aid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.add_parts(aid_list, bbox_list=bbox_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_dict_list = [</span>\n<span class=\"sd\">        &gt;&gt;&gt;     {&#39;test&#39;: random.uniform(0.0, 1.0)},</span>\n<span class=\"sd\">        &gt;&gt;&gt; ]</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_dict_list))</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs.set_part_metadata(part_rowid_list, metadata_dict_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; # verify results</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_dict_list_ = ibs.get_part_metadata(part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_dict_list_))</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert metadata_dict_list == metadata_dict_list_</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_str_list = [ut.to_json(metadata_dict) for metadata_dict in metadata_dict_list]</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_str_list))</span>\n<span class=\"sd\">        &gt;&gt;&gt; metadata_str_list_ = ibs.get_part_metadata(part_rowid_list, return_raw=True)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(metadata_str_list_))</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert metadata_str_list == metadata_str_list_</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs.delete_parts(part_rowid_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">metadata_str_list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">metadata_dict</span> <span class=\"ow\">in</span> <span class=\"n\">metadata_dict_list</span><span class=\"p\">:</span>\n        <span class=\"n\">metadata_str</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">to_json</span><span class=\"p\">(</span><span class=\"n\">metadata_dict</span><span class=\"p\">)</span>\n        <span class=\"n\">metadata_str_list</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">metadata_str</span><span class=\"p\">)</span>\n    <span class=\"n\">val_list</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">metadata_str</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">metadata_str</span> <span class=\"ow\">in</span> <span class=\"n\">metadata_str_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_metadata_json&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_list</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_part_contour\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.get_part_contour\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/contour/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_part_contour</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">return_raw</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): part contour dictionary</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: GET</span>\n<span class=\"sd\">        URL:    /api/part/contour/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">contour_str_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_contour_json&#39;</span><span class=\"p\">,),</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">contour_list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">contour_str</span> <span class=\"ow\">in</span> <span class=\"n\">contour_str_list</span><span class=\"p\">:</span>\n        <span class=\"k\">if</span> <span class=\"n\">contour_str</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"s1\">&#39;&#39;</span><span class=\"p\">]:</span>\n            <span class=\"n\">contour_dict</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">contour_dict</span> <span class=\"o\">=</span> <span class=\"n\">contour_str</span> <span class=\"k\">if</span> <span class=\"n\">return_raw</span> <span class=\"k\">else</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">from_json</span><span class=\"p\">(</span><span class=\"n\">contour_str</span><span class=\"p\">)</span>\n        <span class=\"n\">contour_list</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">contour_dict</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">contour_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_part_contour\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.set_part_contour\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"nd\">@register_api</span><span class=\"p\">(</span><span class=\"s1\">&#39;/api/part/contour/&#39;</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;PUT&#39;</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_part_contour</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">contour_dict_list</span><span class=\"p\">):</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Sets the part&#39;s contour using a contour dictionary</span>\n\n<span class=\"sd\">    RESTful:</span>\n<span class=\"sd\">        Method: PUT</span>\n<span class=\"sd\">        URL:    /api/part/contour/</span>\n\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --test-set_part_contour</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_part_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import ibeis</span>\n<span class=\"sd\">        &gt;&gt;&gt; import random</span>\n<span class=\"sd\">        &gt;&gt;&gt; # build test data</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs = ibeis.opendb(&#39;testdb1&#39;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; aid_list = ibs.get_valid_aids()[0:1]</span>\n<span class=\"sd\">        &gt;&gt;&gt; bbox_list = [[0, 0, 100, 100]] * len(aid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; part_rowid_list = ibs.add_parts(aid_list, bbox_list=bbox_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; contour_dict_list = [</span>\n<span class=\"sd\">        &gt;&gt;&gt;     {&#39;test&#39;: random.uniform(0.0, 1.0)},</span>\n<span class=\"sd\">        &gt;&gt;&gt; ]</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(contour_dict_list))</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs.set_part_contour(part_rowid_list, contour_dict_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; # verify results</span>\n<span class=\"sd\">        &gt;&gt;&gt; contour_dict_list_ = ibs.get_part_contour(part_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(contour_dict_list_))</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert contour_dict_list == contour_dict_list_</span>\n<span class=\"sd\">        &gt;&gt;&gt; contour_str_list = [ut.to_json(contour_dict) for contour_dict in contour_dict_list]</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(contour_str_list))</span>\n<span class=\"sd\">        &gt;&gt;&gt; contour_str_list_ = ibs.get_part_contour(part_rowid_list, return_raw=True)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(ut.repr2(contour_str_list_))</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert contour_str_list == contour_str_list_</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs.delete_parts(part_rowid_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">part_rowid</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">part_rowid</span> <span class=\"ow\">in</span> <span class=\"n\">part_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">contour_str_list</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">contour_dict</span> <span class=\"ow\">in</span> <span class=\"n\">contour_dict_list</span><span class=\"p\">:</span>\n        <span class=\"n\">contour_str</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">to_json</span><span class=\"p\">(</span><span class=\"n\">contour_dict</span><span class=\"p\">)</span>\n        <span class=\"n\">contour_str_list</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">contour_str</span><span class=\"p\">)</span>\n    <span class=\"n\">val_list</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"n\">contour_str</span><span class=\"p\">,)</span> <span class=\"k\">for</span> <span class=\"n\">contour_str</span> <span class=\"ow\">in</span> <span class=\"n\">contour_str_list</span><span class=\"p\">)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">PART_TABLE</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;part_contour_json&#39;</span><span class=\"p\">,),</span> <span class=\"n\">val_list</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">)</span></div>\n\n\n<span class=\"c1\">#==========</span>\n<span class=\"c1\"># Testdata</span>\n<span class=\"c1\">#==========</span>\n\n\n<div class=\"viewcode-block\" id=\"testdata_ibs\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_part_funcs.testdata_ibs\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">testdata_ibs</span><span class=\"p\">():</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Auto-docstr for &#39;testdata_ibs&#39;</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">ibeis</span>\n    <span class=\"n\">ibs</span> <span class=\"o\">=</span> <span class=\"n\">ibeis</span><span class=\"o\">.</span><span class=\"n\">opendb</span><span class=\"p\">(</span><span class=\"s1\">&#39;testdb1&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">qreq_</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n    <span class=\"k\">return</span> <span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">qreq_</span></div>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --allexamples</span>\n<span class=\"sd\">        python -m ibeis.control.manual_part_funcs --allexamples --noface --nosrc</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">multiprocessing</span>\n    <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">freeze_support</span><span class=\"p\">()</span>  <span class=\"c1\"># for win32</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>  <span class=\"c1\"># NOQA</span>\n    <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">doctest_funcs</span><span class=\"p\">()</span>\n</pre></div>", "current_page_name": "_modules/ibeis/control/manual_part_funcs", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}