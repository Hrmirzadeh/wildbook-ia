{"parents": [{"link": "../../../", "title": "Module code"}, {"link": "../../", "title": "ibeis"}, {"link": "../", "title": "ibeis.control"}], "title": "ibeis.control.manual_annotgroup_funcs", "body": "<h1>Source code for ibeis.control.manual_annotgroup_funcs</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">Autogenerated IBEISController functions</span>\n\n<span class=\"sd\">TemplateInfo:</span>\n<span class=\"sd\">    autogen_time = 13:31:28 2015/04/28</span>\n<span class=\"sd\">    autogen_key = annotgroup</span>\n\n<span class=\"sd\">ToRegenerate:</span>\n<span class=\"sd\">    python -m ibeis.templates.template_generator --key annotgroup --Tcfg with_web_api=True with_api_cache=False with_deleters=True no_extern_deleters=True --diff</span>\n<span class=\"sd\">    python -m ibeis.templates.template_generator --key annotgroup --Tcfg with_web_api=True with_api_cache=False with_deleters=True no_extern_deleters=True --write</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"k\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span><span class=\"p\">,</span> <span class=\"n\">unicode_literals</span>\n<span class=\"kn\">from</span> <span class=\"nn\">six.moves</span> <span class=\"k\">import</span> <span class=\"nb\">zip</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis</span> <span class=\"k\">import</span> <span class=\"n\">constants</span> <span class=\"k\">as</span> <span class=\"n\">const</span>\n<span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.control</span> <span class=\"k\">import</span> <span class=\"n\">controller_inject</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.control</span> <span class=\"k\">import</span> <span class=\"n\">accessor_decors</span>  <span class=\"c1\"># NOQA</span>\n<span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">rrr</span><span class=\"p\">,</span> <span class=\"n\">profile</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">inject2</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Create dectorator to inject functions in this module into the IBEISController</span>\n<span class=\"n\">CLASS_INJECT_KEY</span><span class=\"p\">,</span> <span class=\"n\">register_ibs_method</span> <span class=\"o\">=</span> <span class=\"n\">controller_inject</span><span class=\"o\">.</span><span class=\"n\">make_ibs_register_decorator</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">register_api</span>   <span class=\"o\">=</span> <span class=\"n\">controller_inject</span><span class=\"o\">.</span><span class=\"n\">get_ibeis_flask_api</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"testdata_ibs\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.testdata_ibs\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">testdata_ibs</span><span class=\"p\">(</span><span class=\"n\">defaultdb</span><span class=\"o\">=</span><span class=\"s1\">&#39;testdb1&#39;</span><span class=\"p\">):</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">ibeis</span>\n    <span class=\"n\">ibs</span> <span class=\"o\">=</span> <span class=\"n\">ibeis</span><span class=\"o\">.</span><span class=\"n\">opendb</span><span class=\"p\">(</span><span class=\"n\">defaultdb</span><span class=\"o\">=</span><span class=\"n\">defaultdb</span><span class=\"p\">)</span>\n    <span class=\"n\">config2_</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>  <span class=\"c1\"># qreq_.qparams</span>\n    <span class=\"k\">return</span> <span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">config2_</span></div>\n\n<span class=\"c1\"># AUTOGENED CONSTANTS:</span>\n<span class=\"n\">GAR_ROWID</span>        <span class=\"o\">=</span> <span class=\"s1\">&#39;gar_rowid&#39;</span>\n<span class=\"n\">ANNOTGROUP_NOTE</span>  <span class=\"o\">=</span> <span class=\"s1\">&#39;annotgroup_note&#39;</span>\n<span class=\"n\">ANNOTGROUP_ROWID</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;annotgroup_rowid&#39;</span>\n<span class=\"n\">ANNOTGROUP_TEXT</span>  <span class=\"o\">=</span> <span class=\"s1\">&#39;annotgroup_text&#39;</span>\n<span class=\"n\">ANNOTGROUP_UUID</span>  <span class=\"o\">=</span> <span class=\"s1\">&#39;annotgroup_uuid&#39;</span>\n<span class=\"n\">ANNOT_ROWID</span>      <span class=\"o\">=</span> <span class=\"s1\">&#39;annot_rowid&#39;</span>\n\n\n<span class=\"nd\">@register_ibs_method</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">_get_all_annotgroup_rowids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; all_annotgroup_rowids &lt;- annotgroup.get_all_rowids()</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): unfiltered annotgroup_rowids</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tider_all_rowids</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs._get_all_annotgroup_rowids()</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">all_annotgroup_rowids</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get_all_rowids</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">all_annotgroup_rowids</span>\n\n\n<div class=\"viewcode-block\" id=\"add_annotgroup\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.add_annotgroup\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/&#39;, methods=[&#39;POST&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">add_annotgroup</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_uuid_list</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_text_list</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_note_list</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        returns annotgroup_rowid_list of added (or already existing annotgroups)</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tadder_native</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"c1\"># WORK IN PROGRESS</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_UUID</span><span class=\"p\">,</span> <span class=\"n\">ANNOTGROUP_TEXT</span><span class=\"p\">,</span> <span class=\"n\">ANNOTGROUP_NOTE</span><span class=\"p\">,)</span>\n\n    <span class=\"n\">params_iter</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n        <span class=\"p\">(</span><span class=\"n\">annotgroup_uuid</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_text</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_note</span><span class=\"p\">,)</span>\n        <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">annotgroup_uuid</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_text</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_note</span><span class=\"p\">,)</span> <span class=\"ow\">in</span>\n        <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">annotgroup_uuid_list</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_text_list</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_note_list</span><span class=\"p\">)</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">get_rowid_from_superkey</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_annotgroup_rowid_from_superkey</span>\n    <span class=\"c1\"># FIXME: encode superkey paramx</span>\n    <span class=\"n\">superkey_paramx</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,)</span>\n    <span class=\"n\">annotgroup_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_cleanly</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">params_iter</span><span class=\"p\">,</span> <span class=\"n\">get_rowid_from_superkey</span><span class=\"p\">,</span> <span class=\"n\">superkey_paramx</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">annotgroup_rowid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"delete_annotgroup\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.delete_annotgroup\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/&#39;, methods=[&#39;DELETE&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">delete_annotgroup</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup.delete(annotgroup_rowid_list)</span>\n\n<span class=\"sd\">    delete annotgroup rows</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        annotgroup_rowid_list</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        int: num_deleted</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tdeleter_native_tbl</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # DISABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()[:2]</span>\n<span class=\"sd\">        &gt;&gt;&gt; num_deleted = ibs.delete_annotgroup(annotgroup_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(&#39;num_deleted = %r&#39; % (num_deleted,))</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"c1\">#from ibeis.algo.preproc import preproc_annotgroup</span>\n    <span class=\"c1\"># NO EXTERN IMPORT</span>\n    <span class=\"k\">if</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">VERBOSE</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[ibs] deleting </span><span class=\"si\">%d</span><span class=\"s1\"> annotgroup rows&#39;</span> <span class=\"o\">%</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">))</span>\n    <span class=\"c1\"># Prepare: Delete externally stored data (if any)</span>\n    <span class=\"c1\">#preproc_annotgroup.on_delete(ibs, annotgroup_rowid_list, config2_=config2_)</span>\n    <span class=\"c1\"># NO EXTERN DELETE</span>\n    <span class=\"c1\"># Finalize: Delete self</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">delete_rowids</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">num_deleted</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">filter_Nones</span><span class=\"p\">(</span><span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">))</span>\n    <span class=\"k\">return</span> <span class=\"n\">num_deleted</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_annotgroup_gar_rowids\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.get_annotgroup_gar_rowids\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1toM</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/gar/rowids/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_annotgroup_gar_rowids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Auto-docstr for &#39;get_annotgroup_gar_rowids&#39;</span>\n\n<span class=\"sd\">        RESTful:</span>\n<span class=\"sd\">            Method: GET</span>\n<span class=\"sd\">            URL:    /api/annotgroup/gar/rowids/</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">GAR_ROWID</span><span class=\"p\">,)</span>\n    <span class=\"n\">gar_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">GA_RELATION_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span>\n                                <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"n\">ANNOTGROUP_ROWID</span><span class=\"p\">,</span> <span class=\"n\">unpack_scalars</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">gar_rowid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_annotgroup_note\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.get_annotgroup_note\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/note/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_annotgroup_note</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup_note_list &lt;- annotgroup.annotgroup_note[annotgroup_rowid_list]</span>\n\n<span class=\"sd\">    gets data from the &quot;native&quot; column &quot;annotgroup_note&quot; in the &quot;annotgroup&quot; table</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        annotgroup_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: annotgroup_note_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_table_column</span>\n<span class=\"sd\">        col = annotgroup_note</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; eager = True</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_note_list = ibs.get_annotgroup_note(annotgroup_rowid_list, eager=eager)</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert len(annotgroup_rowid_list) == len(annotgroup_note_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">annotgroup_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_NOTE</span><span class=\"p\">,)</span>\n    <span class=\"n\">annotgroup_note_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"s1\">&#39;rowid&#39;</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">annotgroup_note_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_annotgroup_rowid_from_superkey\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.get_annotgroup_rowid_from_superkey\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_annotgroup_rowid_from_superkey</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_text_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup_rowid_list &lt;- annotgroup[annotgroup_text_list]</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        superkey lists: annotgroup_text_list</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        annotgroup_rowid_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_native_rowid_from_superkey</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_ROWID</span><span class=\"p\">,)</span>\n    <span class=\"c1\"># FIXME: col_rowid is not correct</span>\n    <span class=\"n\">params_iter</span> <span class=\"o\">=</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">annotgroup_text_list</span><span class=\"p\">)</span>\n    <span class=\"n\">andwhere_colnames</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">ANNOTGROUP_TEXT</span><span class=\"p\">]</span>\n    <span class=\"n\">annotgroup_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get_where_eq</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">params_iter</span><span class=\"p\">,</span> <span class=\"n\">andwhere_colnames</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">annotgroup_rowid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_annotgroup_text\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.get_annotgroup_text\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/text/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_annotgroup_text</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup_text_list &lt;- annotgroup.annotgroup_text[annotgroup_rowid_list]</span>\n\n<span class=\"sd\">    gets data from the &quot;native&quot; column &quot;annotgroup_text&quot; in the &quot;annotgroup&quot; table</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        annotgroup_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: annotgroup_text_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_table_column</span>\n<span class=\"sd\">        col = annotgroup_text</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; eager = True</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_text_list = ibs.get_annotgroup_text(annotgroup_rowid_list, eager=eager)</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert len(annotgroup_rowid_list) == len(annotgroup_text_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">annotgroup_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_TEXT</span><span class=\"p\">,)</span>\n    <span class=\"n\">annotgroup_text_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"s1\">&#39;rowid&#39;</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">annotgroup_text_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_annotgroup_uuid\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.get_annotgroup_uuid\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/uuid/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_annotgroup_uuid</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup_uuid_list &lt;- annotgroup.annotgroup_uuid[annotgroup_rowid_list]</span>\n\n<span class=\"sd\">    gets data from the &quot;native&quot; column &quot;annotgroup_uuid&quot; in the &quot;annotgroup&quot; table</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        annotgroup_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: annotgroup_uuid_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_table_column</span>\n<span class=\"sd\">        col = annotgroup_uuid</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_annotgroup_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_rowid_list = ibs._get_all_annotgroup_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; eager = True</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_uuid_list = ibs.get_annotgroup_uuid(annotgroup_rowid_list, eager=eager)</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert len(annotgroup_rowid_list) == len(annotgroup_uuid_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">annotgroup_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_UUID</span><span class=\"p\">,)</span>\n    <span class=\"n\">annotgroup_uuid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"s1\">&#39;rowid&#39;</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">annotgroup_uuid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_annotgroup_note\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.set_annotgroup_note\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/note/&#39;, methods=[&#39;PUT&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_annotgroup_note</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_note_list</span><span class=\"p\">,</span> <span class=\"n\">duplicate_behavior</span><span class=\"o\">=</span><span class=\"s1\">&#39;error&#39;</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup_note_list -&gt; annotgroup.annotgroup_note[annotgroup_rowid_list]</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        annotgroup_rowid_list</span>\n<span class=\"sd\">        annotgroup_note_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tsetter_native_column</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n<span class=\"sd\">        col = annotgroup_note</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">annotgroup_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_NOTE</span><span class=\"p\">,)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_note_list</span><span class=\"p\">,</span>\n               <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">duplicate_behavior</span><span class=\"o\">=</span><span class=\"n\">duplicate_behavior</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"set_annotgroup_uuid\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_annotgroup_funcs.set_annotgroup_uuid\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n<span class=\"c1\"># @register_api(&#39;/api/annotgroup/uuid/&#39;, methods=[&#39;PUT&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">set_annotgroup_uuid</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_uuid_list</span><span class=\"p\">,</span> <span class=\"n\">duplicate_behavior</span><span class=\"o\">=</span><span class=\"s1\">&#39;error&#39;</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup_uuid_list -&gt; annotgroup.annotgroup_uuid[annotgroup_rowid_list]</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        annotgroup_rowid_list</span>\n<span class=\"sd\">        annotgroup_uuid_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tsetter_native_column</span>\n<span class=\"sd\">        tbl = annotgroup</span>\n<span class=\"sd\">        col = annotgroup_uuid</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">annotgroup_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_UUID</span><span class=\"p\">,)</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">ANNOTGROUP_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_uuid_list</span><span class=\"p\">,</span>\n               <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">duplicate_behavior</span><span class=\"o\">=</span><span class=\"n\">duplicate_behavior</span><span class=\"p\">)</span></div>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_annotgroup_funcs</span>\n<span class=\"sd\">        python -m ibeis.control.manual_annotgroup_funcs --allexamples</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">multiprocessing</span>\n    <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">freeze_support</span><span class=\"p\">()</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n    <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">doctest_funcs</span><span class=\"p\">()</span>\n</pre></div>", "current_page_name": "_modules/ibeis/control/manual_annotgroup_funcs", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}