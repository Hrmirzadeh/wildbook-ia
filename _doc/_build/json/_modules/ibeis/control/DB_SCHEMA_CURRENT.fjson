{"parents": [{"link": "../../../", "title": "Module code"}, {"link": "../../", "title": "ibeis"}, {"link": "../", "title": "ibeis.control"}], "title": "ibeis.control.DB_SCHEMA_CURRENT", "body": "<h1>Source code for ibeis.control.DB_SCHEMA_CURRENT</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">AUTOGENERATED ON 14:23:20 2018/10/10</span>\n<span class=\"sd\">AutogenCommandLine:</span>\n<span class=\"sd\">    python -m ibeis.control.DB_SCHEMA --test-autogen_db_schema --force-incremental-db-update --write</span>\n<span class=\"sd\">    python -m ibeis.control.DB_SCHEMA --test-autogen_db_schema --force-incremental-db-update --diff=1</span>\n<span class=\"sd\">    python -m ibeis.control.DB_SCHEMA --test-autogen_db_schema --force-incremental-db-update</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"k\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span><span class=\"p\">,</span> <span class=\"n\">unicode_literals</span>\n\n\n<span class=\"c1\"># =======================</span>\n<span class=\"c1\"># Schema Version Current</span>\n<span class=\"c1\"># =======================</span>\n\n\n<span class=\"n\">VERSION_CURRENT</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;1.9.0.vulcan&#39;</span>\n\n\n<div class=\"viewcode-block\" id=\"update_current\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.DB_SCHEMA_CURRENT.update_current\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">update_current</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"p\">,</span> <span class=\"n\">ibs</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;annotation_lblannot_relationship&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;alr_rowid&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblannot_rowid&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;alr_confidence&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;REAL DEFAULT 0.0&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Used to store one-to-many the relationship between annotations</span>\n<span class=\"s1\">        (annots) and labels</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;lblannot_rowid&#39;</span><span class=\"p\">)],</span>\n        <span class=\"n\">relates</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;lblannot&#39;</span><span class=\"p\">),</span>\n        <span class=\"n\">shortname</span><span class=\"o\">=</span><span class=\"s1\">&#39;alr&#39;</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_parent_rowid&#39;</span><span class=\"p\">,</span>           <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_uuid&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_xtl&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_ytl&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_width&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_height&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_theta&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;REAL DEFAULT 0.0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_num_verts&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_verts&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_yaw&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;REAL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_viewpoint&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_detect_confidence&#39;</span><span class=\"p\">,</span>      <span class=\"s1\">&#39;REAL DEFAULT -1.0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_toggle_reviewed&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_toggle_multiple&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;INTEGER DEFAULT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_toggle_interest&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;INTEGER DEFAULT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_exemplar_flag&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_note&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_visual_uuid&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_semantic_uuid&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;UUID&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_rowid&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_rowid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_quality&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_rowid&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_age_months_est_min&#39;</span><span class=\"p\">,</span>     <span class=\"s1\">&#39;INTEGER DEFAULT -1&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_age_months_est_max&#39;</span><span class=\"p\">,</span>     <span class=\"s1\">&#39;INTEGER DEFAULT -1&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_tag_text&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_metadata_json&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_static_encounter&#39;</span><span class=\"p\">,</span>       <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_viewpoint_int&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_staged_flag&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_staged_uuid&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;UUID&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_staged_user_identity&#39;</span><span class=\"p\">,</span>   <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_staged_metadata_json&#39;</span><span class=\"p\">,</span>   <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Mainly used to store the geometry of the annotation within its parent</span>\n<span class=\"s1\">        image The one-to-many relationship between images and annotations is</span>\n<span class=\"s1\">        encoded here</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;annot_uuid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_visual_uuid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;annot_staged_uuid&#39;</span><span class=\"p\">)],</span>\n        <span class=\"n\">shortname</span><span class=\"o\">=</span><span class=\"s1\">&#39;annot&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">extern_tables</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;names&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;species&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;images&#39;</span><span class=\"p\">],</span>\n        <span class=\"n\">primary_superkey</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;annot_uuid&#39;</span><span class=\"p\">,),</span>\n        <span class=\"n\">dependsmap</span><span class=\"o\">=</span><span class=\"p\">{</span>\n            <span class=\"s1\">&#39;annot_parent_rowid&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_visual_uuid&#39;</span><span class=\"p\">,)),</span>\n            <span class=\"s1\">&#39;contributor_rowid&#39;</span> <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;contributors&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n            <span class=\"s1\">&#39;image_rowid&#39;</span>       <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;images&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;image_uuid&#39;</span><span class=\"p\">,)),</span>\n            <span class=\"s1\">&#39;name_rowid&#39;</span>        <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;names&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;name_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;name_text&#39;</span><span class=\"p\">,)),</span>\n            <span class=\"s1\">&#39;species_rowid&#39;</span>     <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;species&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;species_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;species_text&#39;</span><span class=\"p\">,)),</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;annotgroup_annotation_relationship&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;gar_rowid&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotgroup_rowid&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Relationship between annotgroups and annots (many to many mapping) the</span>\n<span class=\"s1\">        many-to-many relationship between annots and annotgroups is encoded</span>\n<span class=\"s1\">        here annotgroup_annotation_relationship stands for annotgroup-</span>\n<span class=\"s1\">        annotation-pairs.</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;annotgroup_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;annotgroups&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotgroup_rowid&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotgroup_uuid&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotgroup_text&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotgroup_note&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        List of all annotation groups (annotgroups)</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;annotgroup_text&#39;</span><span class=\"p\">,)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_rowid&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid1&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid2&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_evidence_decision&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_confidence&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_tag_text&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_reviewer&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_posixtime_modified&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_count&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annotmatch_meta_decision&#39;</span><span class=\"p\">,</span>     <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Sparsely stores explicit matching / not matching information. This</span>\n<span class=\"s1\">        serves as marking weather or not an annotation pair has been reviewed.</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;annot_rowid1&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;annot_rowid2&#39;</span><span class=\"p\">)],</span>\n        <span class=\"n\">relates</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">),</span>\n        <span class=\"n\">dependsmap</span><span class=\"o\">=</span><span class=\"p\">{</span>\n            <span class=\"s1\">&#39;annot_rowid1&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_visual_uuid&#39;</span><span class=\"p\">,)),</span>\n            <span class=\"s1\">&#39;annot_rowid2&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_visual_uuid&#39;</span><span class=\"p\">,)),</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;contributors&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_rowid&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_uuid&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_tag&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_name_first&#39;</span><span class=\"p\">,</span>       <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_name_last&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_location_city&#39;</span><span class=\"p\">,</span>    <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_location_state&#39;</span><span class=\"p\">,</span>   <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_location_country&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_location_zip&#39;</span><span class=\"p\">,</span>     <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_note&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Used to store the contributors to the project</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;contributor_tag&#39;</span><span class=\"p\">,)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;image_lblimage_relationship&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;glr_rowid&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblimage_rowid&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;glr_confidence&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;REAL DEFAULT 0.0&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Used to store one-to-many the relationship between images and labels</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;lblimage_rowid&#39;</span><span class=\"p\">)],</span>\n        <span class=\"n\">relates</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;images&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;lblimage&#39;</span><span class=\"p\">),</span>\n        <span class=\"n\">shortname</span><span class=\"o\">=</span><span class=\"s1\">&#39;glr&#39;</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;images&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_rowid&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_uuid&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_uri&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_uri_original&#39;</span><span class=\"p\">,</span>           <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_ext&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_original_name&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_width&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER DEFAULT -1&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_height&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;INTEGER DEFAULT -1&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_time_posix&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER DEFAULT -1&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_gps_lat&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;REAL DEFAULT -1.0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_gps_lon&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;REAL DEFAULT -1.0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_orientation&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_toggle_enabled&#39;</span><span class=\"p\">,</span>         <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_toggle_reviewed&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_toggle_cameratrap&#39;</span><span class=\"p\">,</span>      <span class=\"s1\">&#39;INTEGER DEFAULT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_note&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_timedelta_posix&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_original_path&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_location_code&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;party_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_metadata_json&#39;</span><span class=\"p\">,</span>          <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_parent_rowid&#39;</span><span class=\"p\">,</span>      <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_xtl&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_ytl&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_width&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_height&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_border_flag&#39;</span><span class=\"p\">,</span>       <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_config_json&#39;</span><span class=\"p\">,</span>       <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_tile_config_hashid&#39;</span><span class=\"p\">,</span>     <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        First class table used to store image locations and meta-data</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;image_uuid&#39;</span><span class=\"p\">,)],</span>\n        <span class=\"n\">shortname</span><span class=\"o\">=</span><span class=\"s1\">&#39;image&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">extern_tables</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;party&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;contributors&#39;</span><span class=\"p\">],</span>\n        <span class=\"n\">dependsmap</span><span class=\"o\">=</span><span class=\"p\">{</span>\n            <span class=\"s1\">&#39;contributor_rowid&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;contributors&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;contributor_tag&#39;</span><span class=\"p\">,)),</span>\n            <span class=\"s1\">&#39;party_rowid&#39;</span>      <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;party&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;party_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;party_tag&#39;</span><span class=\"p\">,)),</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;imageset_image_relationship&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;gsgr_rowid&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_rowid&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Relationship between imagesets and images (many to many mapping) the</span>\n<span class=\"s1\">        many-to-many relationship between images and imagesets is encoded here</span>\n<span class=\"s1\">        imageset_image_relationship stands for imageset-image-pairs.</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;imageset_rowid&#39;</span><span class=\"p\">)],</span>\n        <span class=\"n\">relates</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;images&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;imagesets&#39;</span><span class=\"p\">),</span>\n        <span class=\"n\">shortname</span><span class=\"o\">=</span><span class=\"s1\">&#39;gsgr&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">dependsmap</span><span class=\"o\">=</span><span class=\"p\">{</span>\n            <span class=\"s1\">&#39;image_rowid&#39;</span>   <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;images&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;image_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;image_uuid&#39;</span><span class=\"p\">,)),</span>\n            <span class=\"s1\">&#39;imageset_rowid&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;imagesets&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_text&#39;</span><span class=\"p\">,)),</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;imagesets&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_rowid&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_uuid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_text&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_note&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_start_time_posix&#39;</span><span class=\"p\">,</span>    <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_end_time_posix&#39;</span><span class=\"p\">,</span>      <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_gps_lat&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_gps_lon&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_processed_flag&#39;</span><span class=\"p\">,</span>      <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_shipped_flag&#39;</span><span class=\"p\">,</span>        <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_smart_xml_fname&#39;</span><span class=\"p\">,</span>     <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_smart_waypoint_id&#39;</span><span class=\"p\">,</span>   <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;imageset_metadata_json&#39;</span><span class=\"p\">,</span>       <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        List of all imagesets. This used to be called the encounter table. It</span>\n<span class=\"s1\">        represents a group of potentially many individuals seen in a specific</span>\n<span class=\"s1\">        place at a specific time.</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;imageset_text&#39;</span><span class=\"p\">,)],</span>\n        <span class=\"n\">dependsmap</span><span class=\"o\">=</span><span class=\"p\">{},</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;keys&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lbltype_rowid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lbltype_text&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lbltype_default&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        List of keys used to define the categories of annotation lables, text</span>\n<span class=\"s1\">        is for human-readability. The lbltype_default specifies the</span>\n<span class=\"s1\">        lblannot_value of annotations with a relationship of some</span>\n<span class=\"s1\">        lbltype_rowid</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;lbltype_text&#39;</span><span class=\"p\">,)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;lblannot&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblannot_rowid&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblannot_uuid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lbltype_rowid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblannot_value&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblannot_note&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Used to store the labels / attributes of annotations. E.G name,</span>\n<span class=\"s1\">        species</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;lbltype_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;lblannot_value&#39;</span><span class=\"p\">)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;lblimage&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblimage_rowid&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblimage_uuid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lbltype_rowid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblimage_value&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;lblimage_note&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Used to store the labels (attributes) of images</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;lbltype_rowid&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;lblimage_value&#39;</span><span class=\"p\">)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;metadata&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;metadata_rowid&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;metadata_key&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;metadata_value&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        The table that stores permanently all of the metadata about the</span>\n<span class=\"s1\">        database (tables, etc)</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;metadata_key&#39;</span><span class=\"p\">,)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;names&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_rowid&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_uuid&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_text&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_note&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_temp_flag&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_alias_text&#39;</span><span class=\"p\">,</span>              <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_sex&#39;</span><span class=\"p\">,</span>                     <span class=\"s1\">&#39;INTEGER DEFAULT -1&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;name_metadata_json&#39;</span><span class=\"p\">,</span>           <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Stores the individual animal names</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;name_text&#39;</span><span class=\"p\">,)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;parts&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_rowid&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_uuid&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_xtl&#39;</span><span class=\"p\">,</span>                     <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_ytl&#39;</span><span class=\"p\">,</span>                     <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_width&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_height&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_theta&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;REAL DEFAULT 0.0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_num_verts&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;INTEGER NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_verts&#39;</span><span class=\"p\">,</span>                   <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_viewpoint&#39;</span><span class=\"p\">,</span>               <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_detect_confidence&#39;</span><span class=\"p\">,</span>       <span class=\"s1\">&#39;REAL DEFAULT -1.0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_toggle_reviewed&#39;</span><span class=\"p\">,</span>         <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_quality&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;INTEGER&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_type&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_note&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_tag_text&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_flag&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;INTEGER DEFAULT 0&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_uuid&#39;</span><span class=\"p\">,</span>             <span class=\"s1\">&#39;UUID&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_user_identity&#39;</span><span class=\"p\">,</span>    <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_staged_metadata_json&#39;</span><span class=\"p\">,</span>    <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_metadata_json&#39;</span><span class=\"p\">,</span>           <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;part_contour_json&#39;</span><span class=\"p\">,</span>            <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Mainly used to store the geometry of the annotation parts within its</span>\n<span class=\"s1\">        parent annotation. The one-to-many relationship between annotations</span>\n<span class=\"s1\">        and parts is encoded here</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;part_uuid&#39;</span><span class=\"p\">,)],</span>\n        <span class=\"n\">shortname</span><span class=\"o\">=</span><span class=\"s1\">&#39;part&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">extern_tables</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">],</span>\n        <span class=\"n\">dependsmap</span><span class=\"o\">=</span><span class=\"p\">{</span>\n            <span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annotations&#39;</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_rowid&#39;</span><span class=\"p\">,),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;annot_uuid&#39;</span><span class=\"p\">,)),</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;party&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;party_rowid&#39;</span><span class=\"p\">,</span>                  <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;party_tag&#39;</span><span class=\"p\">,</span>                    <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Serves as a group for contributors</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;party_tag&#39;</span><span class=\"p\">,)],</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_table</span><span class=\"p\">(</span><span class=\"s1\">&#39;species&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_rowid&#39;</span><span class=\"p\">,</span>                <span class=\"s1\">&#39;INTEGER PRIMARY KEY&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_uuid&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;UUID NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_text&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_nice&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_code&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;TEXT NOT NULL&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_note&#39;</span><span class=\"p\">,</span>                 <span class=\"s1\">&#39;TEXT&#39;</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"s1\">&#39;species_toggle_enabled&#39;</span><span class=\"p\">,</span>       <span class=\"s1\">&#39;INTEGER DEFAULT 1&#39;</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n        <span class=\"n\">docstr</span><span class=\"o\">=</span><span class=\"s1\">&#39;&#39;&#39;</span>\n<span class=\"s1\">        Stores the different animal species</span>\n<span class=\"s1\">        &#39;&#39;&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">superkeys</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;species_text&#39;</span><span class=\"p\">,)],</span>\n    <span class=\"p\">)</span></div>\n</pre></div>", "current_page_name": "_modules/ibeis/control/DB_SCHEMA_CURRENT", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}