{"parents": [{"link": "../../../", "title": "Module code"}, {"link": "../../", "title": "ibeis"}, {"link": "../", "title": "ibeis.control"}], "title": "ibeis.control.manual_garelate_funcs", "body": "<h1>Source code for ibeis.control.manual_garelate_funcs</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">Autogenerated IBEISController functions</span>\n\n<span class=\"sd\">TemplateInfo:</span>\n<span class=\"sd\">    autogen_time = 13:34:34 2015/04/28</span>\n<span class=\"sd\">    autogen_key = gar</span>\n\n<span class=\"sd\">ToRegenerate:</span>\n<span class=\"sd\">    python -m ibeis.templates.template_generator --key gar --Tcfg with_web_api=True with_api_cache=False with_deleters=True no_extern_deleters=True --diff</span>\n<span class=\"sd\">    python -m ibeis.templates.template_generator --key gar --Tcfg with_web_api=True with_api_cache=False with_deleters=True no_extern_deleters=True --write</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"k\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span>\n<span class=\"kn\">from</span> <span class=\"nn\">six.moves</span> <span class=\"k\">import</span> <span class=\"nb\">zip</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis</span> <span class=\"k\">import</span> <span class=\"n\">constants</span> <span class=\"k\">as</span> <span class=\"n\">const</span>\n<span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.control</span> <span class=\"k\">import</span> <span class=\"n\">controller_inject</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.control</span> <span class=\"k\">import</span> <span class=\"n\">accessor_decors</span>\n<span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">rrr</span><span class=\"p\">,</span> <span class=\"n\">profile</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">inject2</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Create dectorator to inject functions in this module into the IBEISController</span>\n<span class=\"n\">CLASS_INJECT_KEY</span><span class=\"p\">,</span> <span class=\"n\">register_ibs_method</span> <span class=\"o\">=</span> <span class=\"n\">controller_inject</span><span class=\"o\">.</span><span class=\"n\">make_ibs_register_decorator</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">register_api</span>   <span class=\"o\">=</span> <span class=\"n\">controller_inject</span><span class=\"o\">.</span><span class=\"n\">get_ibeis_flask_api</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"testdata_ibs\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_garelate_funcs.testdata_ibs\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">testdata_ibs</span><span class=\"p\">(</span><span class=\"n\">defaultdb</span><span class=\"o\">=</span><span class=\"s1\">&#39;testdb1&#39;</span><span class=\"p\">):</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">ibeis</span>\n    <span class=\"n\">ibs</span> <span class=\"o\">=</span> <span class=\"n\">ibeis</span><span class=\"o\">.</span><span class=\"n\">opendb</span><span class=\"p\">(</span><span class=\"n\">defaultdb</span><span class=\"o\">=</span><span class=\"n\">defaultdb</span><span class=\"p\">)</span>\n    <span class=\"n\">config2_</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>  <span class=\"c1\"># qreq_.qparams</span>\n    <span class=\"k\">return</span> <span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">config2_</span></div>\n\n<span class=\"c1\"># AUTOGENED CONSTANTS:</span>\n<span class=\"n\">GAR_ROWID</span>        <span class=\"o\">=</span> <span class=\"s1\">&#39;gar_rowid&#39;</span>\n<span class=\"n\">ANNOTGROUP_ROWID</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;annotgroup_rowid&#39;</span>\n<span class=\"n\">ANNOT_ROWID</span>      <span class=\"o\">=</span> <span class=\"s1\">&#39;annot_rowid&#39;</span>\n\n\n<span class=\"nd\">@register_ibs_method</span>\n<span class=\"c1\"># @register_api(&#39;/api/gar/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">_get_all_gar_rowids</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; all_gar_rowids &lt;- gar.get_all_rowids()</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list_ (list): unfiltered gar_rowids</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tider_all_rowids</span>\n<span class=\"sd\">        tbl = gar</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs._get_all_gar_rowids()</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">all_gar_rowids</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get_all_rowids</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">GA_RELATION_TABLE</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">all_gar_rowids</span>\n\n\n<div class=\"viewcode-block\" id=\"add_gar\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_garelate_funcs.add_gar\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"c1\"># @register_api(&#39;/api/gar/&#39;, methods=[&#39;POST&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">add_gar</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        returns gar_rowid_list of added (or already existing gars)</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tadder_native</span>\n<span class=\"sd\">        tbl = gar</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"c1\"># WORK IN PROGRESS</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_ROWID</span><span class=\"p\">,</span> <span class=\"n\">ANNOT_ROWID</span><span class=\"p\">,)</span>\n    <span class=\"c1\">#if aid_list is None:</span>\n    <span class=\"c1\">#    aid_list = [None] * len(annotgroup_rowid_list)</span>\n    <span class=\"n\">params_iter</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n        <span class=\"p\">(</span><span class=\"n\">annotgroup_rowid</span><span class=\"p\">,</span> <span class=\"n\">aid</span><span class=\"p\">,)</span>\n        <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">annotgroup_rowid</span><span class=\"p\">,</span> <span class=\"n\">aid</span><span class=\"p\">,)</span> <span class=\"ow\">in</span>\n        <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">get_rowid_from_superkey</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_gar_rowid_from_superkey</span>\n    <span class=\"c1\"># FIXME: encode superkey paramx</span>\n    <span class=\"n\">superkey_paramx</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"n\">gar_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">add_cleanly</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">GA_RELATION_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">params_iter</span><span class=\"p\">,</span> <span class=\"n\">get_rowid_from_superkey</span><span class=\"p\">,</span> <span class=\"n\">superkey_paramx</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">gar_rowid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"delete_gar\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_garelate_funcs.delete_gar\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"c1\"># @register_api(&#39;/api/gar/&#39;, methods=[&#39;DELETE&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">delete_gar</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">gar_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; gar.delete(gar_rowid_list)</span>\n\n<span class=\"sd\">    delete gar rows</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        gar_rowid_list</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        int: num_deleted</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tdeleter_native_tbl</span>\n<span class=\"sd\">        tbl = gar</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # DISABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; gar_rowid_list = ibs._get_all_gar_rowids()[:2]</span>\n<span class=\"sd\">        &gt;&gt;&gt; num_deleted = ibs.delete_gar(gar_rowid_list)</span>\n<span class=\"sd\">        &gt;&gt;&gt; print(&#39;num_deleted = %r&#39; % (num_deleted,))</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"c1\">#from ibeis.algo.preproc import preproc_gar</span>\n    <span class=\"c1\"># NO EXTERN IMPORT</span>\n    <span class=\"k\">if</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">VERBOSE</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[ibs] deleting </span><span class=\"si\">%d</span><span class=\"s1\"> gar rows&#39;</span> <span class=\"o\">%</span>\n              <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">gar_rowid_list</span><span class=\"p\">))</span>\n    <span class=\"c1\"># Prepare: Delete externally stored data (if any)</span>\n    <span class=\"c1\">#preproc_gar.on_delete(ibs, gar_rowid_list, config2_=config2_)</span>\n    <span class=\"c1\"># NO EXTERN DELETE</span>\n    <span class=\"c1\"># Finalize: Delete self</span>\n    <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">delete_rowids</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">GA_RELATION_TABLE</span><span class=\"p\">,</span> <span class=\"n\">gar_rowid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">num_deleted</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span>\n        <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">filter_Nones</span><span class=\"p\">(</span><span class=\"n\">gar_rowid_list</span><span class=\"p\">))</span>\n    <span class=\"k\">return</span> <span class=\"n\">num_deleted</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_gar_aid\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_garelate_funcs.get_gar_aid\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/gar/annot/rowid/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_gar_aid</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">gar_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; aid_list &lt;- gar.aid[gar_rowid_list]</span>\n\n<span class=\"sd\">    gets data from the &quot;native&quot; column &quot;aid&quot; in the &quot;gar&quot; table</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        gar_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: aid_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_table_column</span>\n<span class=\"sd\">        col = aid</span>\n<span class=\"sd\">        tbl = gar</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; gar_rowid_list = ibs._get_all_gar_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; eager = True</span>\n<span class=\"sd\">        &gt;&gt;&gt; aid_list = ibs.get_gar_aid(gar_rowid_list, eager=eager)</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert len(gar_rowid_list) == len(aid_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">gar_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOT_ROWID</span><span class=\"p\">,)</span>\n    <span class=\"n\">aid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">GA_RELATION_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span>\n                          <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"s1\">&#39;rowid&#39;</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">aid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_gar_annotgroup_rowid\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_garelate_funcs.get_gar_annotgroup_rowid\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"nd\">@accessor_decors</span><span class=\"o\">.</span><span class=\"n\">getter_1to1</span>\n<span class=\"c1\"># @register_api(&#39;/api/gar/annotgroup/rowid/&#39;, methods=[&#39;GET&#39;])</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_gar_annotgroup_rowid</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">gar_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; annotgroup_rowid_list &lt;- gar.annotgroup_rowid[gar_rowid_list]</span>\n\n<span class=\"sd\">    gets data from the &quot;native&quot; column &quot;annotgroup_rowid&quot; in the &quot;gar&quot; table</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        gar_rowid_list (list):</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        list: annotgroup_rowid_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_table_column</span>\n<span class=\"sd\">        col = annotgroup_rowid</span>\n<span class=\"sd\">        tbl = gar</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # ENABLE_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.control.manual_garelate_funcs import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; ibs, config2_ = testdata_ibs()</span>\n<span class=\"sd\">        &gt;&gt;&gt; gar_rowid_list = ibs._get_all_gar_rowids()</span>\n<span class=\"sd\">        &gt;&gt;&gt; eager = True</span>\n<span class=\"sd\">        &gt;&gt;&gt; annotgroup_rowid_list = ibs.get_gar_annotgroup_rowid(gar_rowid_list, eager=eager)</span>\n<span class=\"sd\">        &gt;&gt;&gt; assert len(gar_rowid_list) == len(annotgroup_rowid_list)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">id_iter</span> <span class=\"o\">=</span> <span class=\"n\">gar_rowid_list</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ANNOTGROUP_ROWID</span><span class=\"p\">,)</span>\n    <span class=\"n\">annotgroup_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">GA_RELATION_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">id_iter</span><span class=\"p\">,</span> <span class=\"n\">id_colname</span><span class=\"o\">=</span><span class=\"s1\">&#39;rowid&#39;</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">annotgroup_rowid_list</span></div>\n\n\n<div class=\"viewcode-block\" id=\"get_gar_rowid_from_superkey\"><a class=\"viewcode-back\" href=\"../../../../ibeis.control/#ibeis.control.manual_garelate_funcs.get_gar_rowid_from_superkey\">[docs]</a><span class=\"nd\">@register_ibs_method</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_gar_rowid_from_superkey</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; gar_rowid_list &lt;- gar[annotgroup_rowid_list, aid_list]</span>\n\n<span class=\"sd\">    Args:</span>\n<span class=\"sd\">        superkey lists: annotgroup_rowid_list, aid_list</span>\n\n<span class=\"sd\">    Returns:</span>\n<span class=\"sd\">        gar_rowid_list</span>\n\n<span class=\"sd\">    TemplateInfo:</span>\n<span class=\"sd\">        Tgetter_native_rowid_from_superkey</span>\n<span class=\"sd\">        tbl = gar</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"n\">colnames</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">GAR_ROWID</span><span class=\"p\">,)</span>\n    <span class=\"c1\"># FIXME: col_rowid is not correct</span>\n    <span class=\"n\">params_iter</span> <span class=\"o\">=</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">annotgroup_rowid_list</span><span class=\"p\">,</span> <span class=\"n\">aid_list</span><span class=\"p\">)</span>\n    <span class=\"n\">andwhere_colnames</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">ANNOTGROUP_ROWID</span><span class=\"p\">,</span> <span class=\"n\">ANNOT_ROWID</span><span class=\"p\">]</span>\n    <span class=\"n\">gar_rowid_list</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get_where_eq</span><span class=\"p\">(</span>\n        <span class=\"n\">const</span><span class=\"o\">.</span><span class=\"n\">GA_RELATION_TABLE</span><span class=\"p\">,</span> <span class=\"n\">colnames</span><span class=\"p\">,</span> <span class=\"n\">params_iter</span><span class=\"p\">,</span> <span class=\"n\">andwhere_colnames</span><span class=\"p\">,</span> <span class=\"n\">eager</span><span class=\"o\">=</span><span class=\"n\">eager</span><span class=\"p\">,</span> <span class=\"n\">nInput</span><span class=\"o\">=</span><span class=\"n\">nInput</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">gar_rowid_list</span></div>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.control.manual_garelate_funcs</span>\n<span class=\"sd\">        python -m ibeis.control.manual_garelate_funcs --allexamples</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">multiprocessing</span>\n    <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">freeze_support</span><span class=\"p\">()</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n    <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">doctest_funcs</span><span class=\"p\">()</span>\n</pre></div>", "current_page_name": "_modules/ibeis/control/manual_garelate_funcs", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}