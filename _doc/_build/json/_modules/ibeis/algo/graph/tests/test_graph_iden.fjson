{"parents": [{"link": "../../../../../", "title": "Module code"}, {"link": "../../../../", "title": "ibeis"}, {"link": "../../../", "title": "ibeis.algo"}, {"link": "../../", "title": "ibeis.algo.graph"}], "title": "ibeis.algo.graph.tests.test_graph_iden", "body": "<h1>Source code for ibeis.algo.graph.tests.test_graph_iden</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.algo.graph</span> <span class=\"k\">import</span> <span class=\"n\">demo</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.algo.graph.state</span> <span class=\"k\">import</span> <span class=\"p\">(</span><span class=\"n\">POSTV</span><span class=\"p\">,</span> <span class=\"n\">NEGTV</span><span class=\"p\">,</span> <span class=\"n\">INCMP</span><span class=\"p\">,</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"test_incomp_inference\"><a class=\"viewcode-back\" href=\"../../../../../../ibeis.algo.graph.tests/#ibeis.algo.graph.tests.test_graph_iden.test_incomp_inference\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">test_incomp_inference</span><span class=\"p\">():</span>\n    <span class=\"n\">infr</span> <span class=\"o\">=</span> <span class=\"n\">demo</span><span class=\"o\">.</span><span class=\"n\">demodata_infr</span><span class=\"p\">(</span><span class=\"n\">num_pccs</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Make 2 consistent and 2 inconsistent CCs</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span>  <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span>  <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">3</span><span class=\"p\">,</span>  <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">4</span><span class=\"p\">,</span>  <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">14</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">21</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">22</span><span class=\"p\">,</span> <span class=\"mi\">23</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">33</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"c1\"># Incomparable within CCs</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;==========================&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">INCMP</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Final state:&#39;</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">repr4</span><span class=\"p\">(</span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">gen_edge_attrs</span><span class=\"p\">(</span><span class=\"s1\">&#39;decision&#39;</span><span class=\"p\">))))</span></div>\n\n\n<div class=\"viewcode-block\" id=\"test_unrev_inference\"><a class=\"viewcode-back\" href=\"../../../../../../ibeis.algo.graph.tests/#ibeis.algo.graph.tests.test_graph_iden.test_unrev_inference\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">test_unrev_inference</span><span class=\"p\">():</span>\n    <span class=\"n\">infr</span> <span class=\"o\">=</span> <span class=\"n\">demo</span><span class=\"o\">.</span><span class=\"n\">demodata_infr</span><span class=\"p\">(</span><span class=\"n\">num_pccs</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Make 2 consistent and 2 inconsistent CCs</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span>  <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span>  <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">3</span><span class=\"p\">,</span>  <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">4</span><span class=\"p\">,</span>  <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">14</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">21</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">22</span><span class=\"p\">,</span> <span class=\"mi\">23</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">33</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"c1\"># Incomparable within CCs</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;==========================&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">),</span> <span class=\"n\">UNREV</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Final state:&#39;</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">repr4</span><span class=\"p\">(</span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">gen_edge_attrs</span><span class=\"p\">(</span><span class=\"s1\">&#39;decision&#39;</span><span class=\"p\">))))</span></div>\n\n\n<div class=\"viewcode-block\" id=\"test_pos_neg\"><a class=\"viewcode-back\" href=\"../../../../../../ibeis.algo.graph.tests/#ibeis.algo.graph.tests.test_graph_iden.test_pos_neg\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">test_pos_neg</span><span class=\"p\">():</span>\n    <span class=\"n\">infr</span> <span class=\"o\">=</span> <span class=\"n\">demo</span><span class=\"o\">.</span><span class=\"n\">demodata_infr</span><span class=\"p\">(</span><span class=\"n\">num_pccs</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Make 3 inconsistent CCs</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span>  <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span>  <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">3</span><span class=\"p\">,</span>  <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">4</span><span class=\"p\">,</span>  <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span>  <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">21</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">22</span><span class=\"p\">,</span> <span class=\"mi\">23</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"c1\"># Fix inconsistency</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Merge inconsistent CCS</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Negative edge within an inconsistent CC</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Negative edge external to an inconsistent CC</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># -----</span>\n    <span class=\"c1\"># Make inconsistency from positive</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">33</span><span class=\"p\">,</span> <span class=\"mi\">34</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"mi\">34</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">34</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Fix everything</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span>  <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">2</span><span class=\"p\">,</span>  <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"mi\">34</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span><span class=\"mi\">23</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">),</span> <span class=\"n\">POSTV</span><span class=\"p\">)</span>\n    <span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">add_feedback</span><span class=\"p\">((</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">),</span> <span class=\"n\">NEGTV</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Final state:&#39;</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">repr4</span><span class=\"p\">(</span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">infr</span><span class=\"o\">.</span><span class=\"n\">gen_edge_attrs</span><span class=\"p\">(</span><span class=\"s1\">&#39;decision&#39;</span><span class=\"p\">))))</span></div>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"sa\">r</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        export PYTHONPATH=$PYTHONPATH:/home/joncrall/code/ibeis/ibeis/algo/graph/tests</span>\n<span class=\"sd\">        python ~/code/ibeis/ibeis/algo/graph/tests/test_graph_iden.py test_pos_neg</span>\n<span class=\"sd\">        python ~/code/ibeis/ibeis/algo/graph/tests/test_graph_iden.py test_unrev_inference</span>\n<span class=\"sd\">        python ~/code/ibeis/ibeis/algo/graph/tests/test_graph_iden.py test_incomp_inference</span>\n<span class=\"sd\">        python ~/code/ibeis/ibeis/algo/graph/tests/test_graph_iden.py --allexamples</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">multiprocessing</span>\n    <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">freeze_support</span><span class=\"p\">()</span>  <span class=\"c1\"># for win32</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>  <span class=\"c1\"># NOQA</span>\n    <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">doctest_funcs</span><span class=\"p\">()</span>\n    <span class=\"c1\"># import ubelt as ub</span>\n</pre></div>", "current_page_name": "_modules/ibeis/algo/graph/tests/test_graph_iden", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}