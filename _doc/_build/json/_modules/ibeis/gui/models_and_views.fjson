{"parents": [{"link": "../../../", "title": "Module code"}, {"link": "../../", "title": "ibeis"}], "title": "ibeis.gui.models_and_views", "body": "<h1>Source code for ibeis.gui.models_and_views</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">This provides concrete classes which inherit from abstract</span>\n<span class=\"sd\">api_item_models/api_table_models/api_tree_models in guitool.</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"k\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span>\n<span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n<span class=\"kn\">from</span> <span class=\"nn\">guitool</span> <span class=\"k\">import</span> <span class=\"p\">(</span><span class=\"n\">APIItemModel</span><span class=\"p\">,</span> <span class=\"n\">APITableView</span><span class=\"p\">,</span> <span class=\"n\">APITreeView</span><span class=\"p\">,</span> <span class=\"n\">APIItemWidget</span><span class=\"p\">,</span>\n                     <span class=\"n\">StripeProxyModel</span><span class=\"p\">,</span> <span class=\"n\">ChangeLayoutContext</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">rrr</span><span class=\"p\">,</span> <span class=\"n\">profile</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">inject2</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n<span class=\"c1\">#---------------------</span>\n<span class=\"c1\"># --- IBEIS Tables ---</span>\n<span class=\"c1\">#---------------------</span>\n\n\n<span class=\"n\">VERBOSE_GUI</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">VERBOSE</span> <span class=\"ow\">or</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">get_argflag</span><span class=\"p\">((</span><span class=\"s1\">&#39;--verbose-gui&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;--verbgui&#39;</span><span class=\"p\">))</span>\n\n\n<div class=\"viewcode-block\" id=\"IBEISTableWidget\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.IBEISTableWidget\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">IBEISTableWidget</span><span class=\"p\">(</span><span class=\"n\">APIItemWidget</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">widget</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"n\">widget</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n        <span class=\"n\">widget</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"c1\">#APIItemWidget.__init__(widget, headers=headers, parent=parent,</span>\n        <span class=\"c1\">#                        model_class=IBEISStripeModel,</span>\n        <span class=\"c1\">#                        view_class=IBEISTableView)</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISTableWidget</span><span class=\"p\">,</span> <span class=\"n\">widget</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">,</span>\n                                                 <span class=\"n\">model_class</span><span class=\"o\">=</span><span class=\"n\">IBEISStripeModel</span><span class=\"p\">,</span>\n                                                 <span class=\"n\">view_class</span><span class=\"o\">=</span><span class=\"n\">IBEISTableView</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"IBEISTreeWidget\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.IBEISTreeWidget\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">IBEISTreeWidget</span><span class=\"p\">(</span><span class=\"n\">APIItemWidget</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">widget</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"n\">widget</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n        <span class=\"n\">widget</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"c1\">#APIItemWidget.__init__(widget, headers=headers, parent=parent,</span>\n        <span class=\"c1\">#                        model_class=IBEISItemModel,</span>\n        <span class=\"c1\">#                        view_class=IBEISTreeView)</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISTreeWidget</span><span class=\"p\">,</span> <span class=\"n\">widget</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">,</span>\n                                                <span class=\"n\">model_class</span><span class=\"o\">=</span><span class=\"n\">IBEISItemModel</span><span class=\"p\">,</span>\n                                                <span class=\"n\">view_class</span><span class=\"o\">=</span><span class=\"n\">IBEISTreeView</span><span class=\"p\">)</span></div>\n\n\n<span class=\"n\">IBEISSTRIPEMODEL_BASE</span> <span class=\"o\">=</span> <span class=\"n\">StripeProxyModel</span>\n<span class=\"c1\">#IBEISSTRIPEMODEL_BASE = APIItemModel</span>\n<span class=\"n\">IBEISITEMMODEL_BASE</span> <span class=\"o\">=</span> <span class=\"n\">APIItemModel</span>\n\n\n<div class=\"viewcode-block\" id=\"IBEISStripeModel\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.IBEISStripeModel\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">IBEISStripeModel</span><span class=\"p\">(</span><span class=\"n\">IBEISSTRIPEMODEL_BASE</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; Used for the image grid &quot;&quot;&quot;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"c1\">#IBEISSTRIPEMODEL_BASE.__init__(model, parent=parent, numduplicates=1, *args)</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISStripeModel</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">,</span> <span class=\"n\">numduplicates</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">)</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">1</span>  <span class=\"c1\"># negative one is an invalid imgsetid</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_ider</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"k\">if</span> <span class=\"n\">IBEISSTRIPEMODEL_BASE</span> <span class=\"o\">==</span> <span class=\"n\">StripeProxyModel</span><span class=\"p\">:</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">sourcemodel</span> <span class=\"o\">=</span> <span class=\"n\">APIItemModel</span><span class=\"p\">(</span><span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">)</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">setSourceModel</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">sourcemodel</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">VERBOSE</span><span class=\"p\">:</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[ibs_model] just set the sourcemodel&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_update_headers</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">headers</span><span class=\"p\">):</span>\n        <span class=\"k\">def</span> <span class=\"nf\">_null_ider</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n            <span class=\"k\">return</span> <span class=\"p\">[]</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span> <span class=\"o\">=</span> <span class=\"n\">headers</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">&#39;iders&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">_null_ider</span><span class=\"p\">])</span>\n        <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">new_iders</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span><span class=\"p\">[:]</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">new_iders</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">_ider</span>\n        <span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s1\">&#39;iders&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">new_iders</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">_nd</span> <span class=\"o\">=</span> <span class=\"n\">headers</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">&#39;num_duplicates&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">sourcemodel</span><span class=\"o\">.</span><span class=\"n\">_update_headers</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">headers</span><span class=\"p\">)</span>\n        <span class=\"c1\">#return IBEISSTRIPEMODEL_BASE._update_headers(model, **headers)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_ider</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot; Overrides the API model ider to give only selected imageset ids &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">](</span><span class=\"n\">imgsetid</span><span class=\"o\">=</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_change_imageset</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">imgsetid</span><span class=\"p\">):</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span> <span class=\"o\">=</span> <span class=\"n\">imgsetid</span>\n        <span class=\"k\">with</span> <span class=\"n\">ChangeLayoutContext</span><span class=\"p\">([</span><span class=\"n\">model</span><span class=\"p\">]):</span>\n            <span class=\"c1\">#IBEISSTRIPEMODEL_BASE._update_rows(model)</span>\n            <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISStripeModel</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">_update_rows</span><span class=\"p\">()</span></div>\n\n\n<div class=\"viewcode-block\" id=\"IBEISTableView\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.IBEISTableView\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">IBEISTableView</span><span class=\"p\">(</span><span class=\"n\">APITableView</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    View for ANNOTATION / NAME / IMAGE Tables</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">tblview</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISTableView</span><span class=\"p\">,</span> <span class=\"n\">tblview</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">)</span>\n        <span class=\"c1\">#APITableView.__init__(tblview, parent)</span>\n        <span class=\"n\">tblview</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_change_imageset</span><span class=\"p\">(</span><span class=\"n\">tblview</span><span class=\"p\">,</span> <span class=\"n\">imgsetid</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">VERBOSE_GUI</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[gui.IBEISTableView] _change_imageset(</span><span class=\"si\">%r</span><span class=\"s1\">)&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">imgsetid</span><span class=\"p\">))</span>\n        <span class=\"n\">tblview</span><span class=\"o\">.</span><span class=\"n\">verticalScrollBar</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">setSliderPosition</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n        <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">tblview</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"n\">model</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">_change_imageset</span><span class=\"p\">(</span><span class=\"n\">imgsetid</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"IBEISItemModel\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.IBEISItemModel\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">IBEISItemModel</span><span class=\"p\">(</span><span class=\"n\">IBEISITEMMODEL_BASE</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"c1\">#IBEISITEMMODEL_BASE.__init__(model, parent=parent, *args)</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISItemModel</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">)</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">1</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_ider</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_update_headers</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">headers</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        filter the iders</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">def</span> <span class=\"nf\">_null_ider</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n            <span class=\"k\">return</span> <span class=\"p\">[]</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span> <span class=\"o\">=</span> <span class=\"n\">headers</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">&#39;iders&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">_null_ider</span><span class=\"p\">])</span>\n        <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">new_iders</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span><span class=\"p\">[:]</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">new_iders</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">_ider</span>\n        <span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s1\">&#39;iders&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">new_iders</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISItemModel</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">_update_headers</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">headers</span><span class=\"p\">)</span>\n        <span class=\"c1\">#return IBEISITEMMODEL_BASE._update_headers(model, **headers)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_ider</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Overrides the API model ider to give filtered output,</span>\n<span class=\"sd\">        ie: only selected imageset ids</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">original_iders</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">](</span><span class=\"n\">imgsetid</span><span class=\"o\">=</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_change_imageset</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">imgsetid</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">VERBOSE_GUI</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[gui.IBEISItemModel] _change_imageset(</span><span class=\"si\">%r</span><span class=\"s1\">)&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">imgsetid</span><span class=\"p\">))</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">imgsetid</span> <span class=\"o\">=</span> <span class=\"n\">imgsetid</span>\n        <span class=\"k\">with</span> <span class=\"n\">ChangeLayoutContext</span><span class=\"p\">([</span><span class=\"n\">model</span><span class=\"p\">]):</span>\n            <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IBEISItemModel</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">_update_rows</span><span class=\"p\">()</span></div>\n            <span class=\"c1\">#IBEISITEMMODEL_BASE._update_rows(model)</span>\n\n\n<div class=\"viewcode-block\" id=\"IBEISTreeView\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.IBEISTreeView\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">IBEISTreeView</span><span class=\"p\">(</span><span class=\"n\">APITreeView</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    View for NAME / ANNOTATION Tree</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">treeview</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"c1\"># SUPER WEIRD, super doesn&#39;t work here</span>\n        <span class=\"n\">APITreeView</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">treeview</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"p\">)</span>\n        <span class=\"c1\">#super(APITreeView, treeview).__init__(parent)</span>\n        <span class=\"n\">treeview</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_change_imageset</span><span class=\"p\">(</span><span class=\"n\">treeview</span><span class=\"p\">,</span> <span class=\"n\">imgsetid</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">VERBOSE_GUI</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;[gui.IBEISTreeView] _change_imageset(</span><span class=\"si\">%r</span><span class=\"s1\">)&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">imgsetid</span><span class=\"p\">))</span>\n        <span class=\"n\">treeview</span><span class=\"o\">.</span><span class=\"n\">verticalScrollBar</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">setSliderPosition</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n        <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">treeview</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"n\">model</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"c1\"># FIXME: should defer the change of imageset until</span>\n            <span class=\"c1\"># the view becomes visible</span>\n            <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">_change_imageset</span><span class=\"p\">(</span><span class=\"n\">imgsetid</span><span class=\"p\">)</span></div>\n\n\n<span class=\"c1\">#-------------------------</span>\n<span class=\"c1\"># --- IMAGESET TABLES ---</span>\n<span class=\"c1\">#-------------------------</span>\n\n\n<div class=\"viewcode-block\" id=\"ImagesetTableWidget\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.ImagesetTableWidget\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ImagesetTableWidget</span><span class=\"p\">(</span><span class=\"n\">APIItemWidget</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">widget</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"n\">widget</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">ImagesetTableWidget</span><span class=\"p\">,</span> <span class=\"n\">widget</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">,</span>\n                                                    <span class=\"n\">model_class</span><span class=\"o\">=</span><span class=\"n\">ImagesetTableModel</span><span class=\"p\">,</span>\n                                                    <span class=\"n\">view_class</span><span class=\"o\">=</span><span class=\"n\">ImagesetTableView</span><span class=\"p\">)</span></div>\n        <span class=\"c1\">#APIItemWidget.__init__(widget, headers=headers, parent=parent,</span>\n        <span class=\"c1\">#                        model_class=ImagesetTableModel,</span>\n        <span class=\"c1\">#                        view_class=ImagesetTableView)</span>\n\n\n<div class=\"viewcode-block\" id=\"ImagesetTableModel\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.ImagesetTableModel\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ImagesetTableModel</span><span class=\"p\">(</span><span class=\"n\">APIItemModel</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"n\">headers</span>\n        <span class=\"c1\">#APIItemModel.__init__(model, headers=headers, parent=parent)</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">ImagesetTableModel</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"n\">parent</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"ImagesetTableView\"><a class=\"viewcode-back\" href=\"../../../../ibeis.gui/#ibeis.gui.models_and_views.ImagesetTableView\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ImagesetTableView</span><span class=\"p\">(</span><span class=\"n\">APITableView</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    View for ImageSet Table</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"n\">tblview</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"n\">APITableView</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">tblview</span><span class=\"p\">,</span> <span class=\"n\">parent</span><span class=\"p\">)</span>\n        <span class=\"c1\">#super(ImagesetTableView, tblview).__init__(parent)</span>\n        <span class=\"n\">tblview</span><span class=\"o\">.</span><span class=\"n\">ibswin</span> <span class=\"o\">=</span> <span class=\"n\">parent</span></div>\n        <span class=\"c1\">#tblview.setMaximumSize(500, 9999)</span>\n</pre></div>", "current_page_name": "_modules/ibeis/gui/models_and_views", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}