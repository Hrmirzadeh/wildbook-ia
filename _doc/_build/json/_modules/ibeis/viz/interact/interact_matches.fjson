{"parents": [{"link": "../../../../", "title": "Module code"}, {"link": "../../../", "title": "ibeis"}, {"link": "../../", "title": "ibeis.viz"}, {"link": "../", "title": "ibeis.viz.interact"}], "title": "ibeis.viz.interact.interact_matches", "body": "<h1>Source code for ibeis.viz.interact.interact_matches</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">Single VsOne Chip Match Interface</span>\n<span class=\"sd\">For VsMany Interaction</span>\n\n<span class=\"sd\">Interaction for looking at matches between a single query and database annotation</span>\n\n<span class=\"sd\">Main development file</span>\n\n<span class=\"sd\">CommandLine:</span>\n<span class=\"sd\">    python -m ibeis.viz.interact.interact_matches --test-show_coverage --show</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"k\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span><span class=\"p\">,</span> <span class=\"n\">unicode_literals</span>\n<span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">plottool</span> <span class=\"k\">as</span> <span class=\"nn\">pt</span>\n<span class=\"kn\">import</span> <span class=\"nn\">six</span>\n<span class=\"kn\">from</span> <span class=\"nn\">plottool</span> <span class=\"k\">import</span> <span class=\"n\">interact_helpers</span> <span class=\"k\">as</span> <span class=\"n\">ih</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis</span> <span class=\"k\">import</span> <span class=\"n\">viz</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.algo.hots</span> <span class=\"k\">import</span> <span class=\"n\">scoring</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.algo.hots</span> <span class=\"k\">import</span> <span class=\"n\">hstypes</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_helpers</span> <span class=\"k\">as</span> <span class=\"n\">vh</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_hough</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_chip</span>\n<span class=\"kn\">from</span> <span class=\"nn\">plottool</span> <span class=\"k\">import</span> <span class=\"n\">interact_matches</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.interact.interact_chip</span> <span class=\"k\">import</span> <span class=\"n\">ishow_chip</span>\n<span class=\"p\">(</span><span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">rrr</span><span class=\"p\">,</span> <span class=\"n\">profile</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">inject2</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">,</span> <span class=\"s1\">&#39;[interact_matches]&#39;</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"testdata_match_interact\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.testdata_match_interact\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">testdata_match_interact</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.viz.interact.interact_matches --test-testdata_match_interact --show --db PZ_MTEST --qaid 3</span>\n\n<span class=\"sd\">    Example:</span>\n<span class=\"sd\">        &gt;&gt;&gt; # VIZ_DOCTEST</span>\n<span class=\"sd\">        &gt;&gt;&gt; from ibeis.viz.interact.interact_matches import *  # NOQA</span>\n<span class=\"sd\">        &gt;&gt;&gt; import plottool as pt</span>\n<span class=\"sd\">        &gt;&gt;&gt; kwargs = {}</span>\n<span class=\"sd\">        &gt;&gt;&gt; mx = ut.get_argval(&#39;--mx&#39;, type_=int, default=None)</span>\n<span class=\"sd\">        &gt;&gt;&gt; self = testdata_match_interact(mx=mx, **kwargs)</span>\n<span class=\"sd\">        &gt;&gt;&gt; pt.show_if_requested()</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">ibeis</span>\n    <span class=\"n\">qreq_</span> <span class=\"o\">=</span> <span class=\"n\">ibeis</span><span class=\"o\">.</span><span class=\"n\">testdata_qreq_</span><span class=\"p\">(</span><span class=\"n\">defaultdb</span><span class=\"o\">=</span><span class=\"s1\">&#39;testdb1&#39;</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">&#39;default:Knorm=3&#39;</span><span class=\"p\">])</span>\n    <span class=\"n\">ibs</span> <span class=\"o\">=</span> <span class=\"n\">qreq_</span><span class=\"o\">.</span><span class=\"n\">ibs</span>\n    <span class=\"n\">cm</span> <span class=\"o\">=</span> <span class=\"n\">qreq_</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n    <span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">sortself</span><span class=\"p\">()</span>\n    <span class=\"n\">aid2</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n    <span class=\"bp\">self</span> <span class=\"o\">=</span> <span class=\"n\">MatchInteraction</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">cm</span><span class=\"p\">,</span> <span class=\"n\">aid2</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">dodraw</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">qreq_</span><span class=\"o\">=</span><span class=\"n\">qreq_</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n    <span class=\"k\">return</span> <span class=\"bp\">self</span></div>\n\n\n<span class=\"c1\"># TODO inherit from AbstractInteraction</span>\n<div class=\"viewcode-block\" id=\"MatchInteraction\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction\">[docs]</a><span class=\"nd\">@six</span><span class=\"o\">.</span><span class=\"n\">add_metaclass</span><span class=\"p\">(</span><span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">ReloadingMetaclass</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">MatchInteraction</span><span class=\"p\">(</span><span class=\"n\">interact_matches</span><span class=\"o\">.</span><span class=\"n\">MatchInteraction2</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Plots a chip result and sets up callbacks for interaction.</span>\n\n<span class=\"sd\">    SeeAlso:</span>\n<span class=\"sd\">        plottool.interact_matches.MatchInteraction2</span>\n\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.viz.interact.interact_matches --test-testdata_match_interact --show --db PZ_MTEST --qaid 3</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">cm</span><span class=\"p\">,</span> <span class=\"n\">aid2</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">qreq_</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">figtitle</span><span class=\"o\">=</span><span class=\"s1\">&#39;Match Interaction&#39;</span><span class=\"p\">,</span>\n                 <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"c1\">#print(&#39;[ibs] MatchInteraction.__init__&#39;)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span> <span class=\"o\">=</span> <span class=\"n\">cm</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span> <span class=\"o\">=</span> <span class=\"n\">qreq_</span>\n        <span class=\"c1\"># Unpack Args</span>\n        <span class=\"k\">if</span> <span class=\"n\">aid2</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">index</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n            <span class=\"c1\"># FIXME: no sortself</span>\n            <span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">sortself</span><span class=\"p\">()</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">rank</span> <span class=\"o\">=</span> <span class=\"n\">index</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">index</span> <span class=\"o\">=</span> <span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">daid2_idx</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">aid2</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n            <span class=\"c1\"># TODO: rank?</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">rank</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"k\">if</span> <span class=\"n\">index</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span>  <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">qaid</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span>  <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">daid_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span>\n            <span class=\"n\">fm</span>    <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">fm_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span>\n            <span class=\"n\">fk</span>    <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">fk_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span>\n            <span class=\"n\">fsv</span>   <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">fsv_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">fs_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n                <span class=\"n\">fs_list</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">get_fsv_prod_list</span><span class=\"p\">()</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">fs_list</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">fs_list</span>\n            <span class=\"n\">fs</span>    <span class=\"o\">=</span> <span class=\"kc\">None</span> <span class=\"k\">if</span> <span class=\"n\">fs_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"k\">else</span> <span class=\"n\">fs_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span>\n            <span class=\"n\">H1</span>    <span class=\"o\">=</span> <span class=\"kc\">None</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">H_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"k\">else</span> <span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">H_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">score</span> <span class=\"o\">=</span> <span class=\"kc\">None</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">score_list</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"k\">else</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">score_list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">]</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span>  <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">qaid</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span>  <span class=\"o\">=</span> <span class=\"n\">aid2</span>\n            <span class=\"n\">fm</span>    <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">empty</span><span class=\"p\">((</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">hstypes</span><span class=\"o\">.</span><span class=\"n\">FM_DTYPE</span><span class=\"p\">)</span>\n            <span class=\"n\">fk</span>    <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">empty</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">hstypes</span><span class=\"o\">.</span><span class=\"n\">FK_DTYPE</span><span class=\"p\">)</span>\n            <span class=\"n\">fsv</span>   <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">empty</span><span class=\"p\">((</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">hstypes</span><span class=\"o\">.</span><span class=\"n\">FS_DTYPE</span><span class=\"p\">)</span>\n            <span class=\"n\">fs</span>    <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">empty</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">hstypes</span><span class=\"o\">.</span><span class=\"n\">FS_DTYPE</span><span class=\"p\">)</span>\n            <span class=\"n\">H1</span>    <span class=\"o\">=</span> <span class=\"kc\">None</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">score</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n\n        <span class=\"c1\"># Read properties</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">query_config2_</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"kc\">None</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"k\">else</span>\n                               <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span><span class=\"o\">.</span><span class=\"n\">extern_query_config2</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data_config2_</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"kc\">None</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"k\">else</span>\n                              <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span><span class=\"o\">.</span><span class=\"n\">extern_data_config2</span><span class=\"p\">)</span>\n\n        <span class=\"n\">rchip1</span> <span class=\"o\">=</span> <span class=\"n\">vh</span><span class=\"o\">.</span><span class=\"n\">get_chips</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">],</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">query_config2_</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"n\">rchip2</span> <span class=\"o\">=</span> <span class=\"n\">vh</span><span class=\"o\">.</span><span class=\"n\">get_chips</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">],</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data_config2_</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n        <span class=\"n\">kpts1</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_annot_kpts</span><span class=\"p\">([</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">],</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">query_config2_</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"n\">kpts2</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_annot_kpts</span><span class=\"p\">([</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">],</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data_config2_</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n        <span class=\"n\">vecs1</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_annot_vecs</span><span class=\"p\">([</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">],</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">query_config2_</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"n\">vecs2</span> <span class=\"o\">=</span> <span class=\"n\">ibs</span><span class=\"o\">.</span><span class=\"n\">get_annot_vecs</span><span class=\"p\">([</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">],</span> <span class=\"n\">config2_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data_config2_</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">figtitle</span> <span class=\"o\">=</span> <span class=\"n\">figtitle</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">kwargs</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fnum2</span> <span class=\"o\">=</span> <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">()</span>\n\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">MatchInteraction</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">rchip1</span><span class=\"p\">,</span> <span class=\"n\">rchip2</span><span class=\"p\">,</span> <span class=\"n\">kpts1</span><span class=\"p\">,</span> <span class=\"n\">kpts2</span><span class=\"p\">,</span>\n                                               <span class=\"n\">fm</span><span class=\"p\">,</span> <span class=\"n\">fs</span><span class=\"p\">,</span> <span class=\"n\">fsv</span><span class=\"p\">,</span> <span class=\"n\">vecs1</span><span class=\"p\">,</span> <span class=\"n\">vecs2</span><span class=\"p\">,</span> <span class=\"n\">H1</span><span class=\"p\">,</span>\n                                               <span class=\"n\">H2</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">fk</span><span class=\"o\">=</span><span class=\"n\">fk</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">fnum</span><span class=\"p\">,</span>\n                                               <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"c1\">#def plot(self, fnum, pnum):</span>\n<div class=\"viewcode-block\" id=\"MatchInteraction.chipmatch_view\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.chipmatch_view\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">chipmatch_view</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">pnum</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs_</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        just visualizes the matches using some type of lines</span>\n\n<span class=\"sd\">        CommandLine:</span>\n<span class=\"sd\">            python -m ibeis.viz.interact.interact_matches --test-chipmatch_view --show</span>\n\n<span class=\"sd\">        Example:</span>\n<span class=\"sd\">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>\n<span class=\"sd\">            &gt;&gt;&gt; from ibeis.viz.interact.interact_matches import *  # NOQA</span>\n<span class=\"sd\">            &gt;&gt;&gt; self = testdata_match_interact()</span>\n<span class=\"sd\">            &gt;&gt;&gt; self.chipmatch_view()</span>\n<span class=\"sd\">            &gt;&gt;&gt; pt.show_if_requested()</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">fnum</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">fnum</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fnum</span>\n        <span class=\"k\">if</span> <span class=\"n\">verbose</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">verbose</span> <span class=\"o\">=</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">VERBOSE</span>\n\n        <span class=\"n\">ibs</span>      <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span>\n        <span class=\"n\">aid</span>      <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span>\n        <span class=\"n\">qaid</span>     <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span>\n        <span class=\"n\">figtitle</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">figtitle</span>\n\n        <span class=\"c1\"># drawing mode draw: with/without lines/feats</span>\n        <span class=\"n\">mode</span> <span class=\"o\">=</span> <span class=\"n\">kwargs_</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">&#39;mode&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mode</span><span class=\"p\">)</span>\n        <span class=\"n\">draw_ell</span> <span class=\"o\">=</span> <span class=\"n\">mode</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">1</span>\n        <span class=\"n\">draw_lines</span> <span class=\"o\">=</span> <span class=\"n\">mode</span> <span class=\"o\">==</span> <span class=\"mi\">2</span>\n        <span class=\"c1\">#self.mode = (self.mode + 1) % 3</span>\n        <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">fnum</span><span class=\"p\">,</span> <span class=\"n\">docla</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">doclf</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">show_matches_kw</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">copy</span><span class=\"p\">()</span>\n        <span class=\"n\">show_matches_kw</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span>\n            <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">fnum</span><span class=\"p\">,</span> <span class=\"n\">pnum</span><span class=\"o\">=</span><span class=\"n\">pnum</span><span class=\"p\">,</span> <span class=\"n\">draw_lines</span><span class=\"o\">=</span><span class=\"n\">draw_lines</span><span class=\"p\">,</span>\n                 <span class=\"n\">draw_ell</span><span class=\"o\">=</span><span class=\"n\">draw_ell</span><span class=\"p\">,</span> <span class=\"n\">colorbar_</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">vert</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">vert</span><span class=\"p\">))</span>\n        <span class=\"n\">show_matches_kw</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"n\">kwargs_</span><span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">warp_homog</span><span class=\"p\">:</span>\n            <span class=\"n\">show_matches_kw</span><span class=\"p\">[</span><span class=\"s1\">&#39;H1&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">H1</span>\n\n        <span class=\"c1\">#show_matches_kw[&#39;score&#39;] = self.score</span>\n        <span class=\"n\">show_matches_kw</span><span class=\"p\">[</span><span class=\"s1\">&#39;rawscore&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">score</span>\n        <span class=\"n\">show_matches_kw</span><span class=\"p\">[</span><span class=\"s1\">&#39;aid2_raw_rank&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">rank</span>\n        <span class=\"n\">tup</span> <span class=\"o\">=</span> <span class=\"n\">viz</span><span class=\"o\">.</span><span class=\"n\">viz_matches</span><span class=\"o\">.</span><span class=\"n\">show_matches2</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">,</span>\n                                            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fm</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fs</span><span class=\"p\">,</span>\n                                            <span class=\"n\">qreq_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span><span class=\"p\">,</span>\n                                            <span class=\"o\">**</span><span class=\"n\">show_matches_kw</span><span class=\"p\">)</span>\n        <span class=\"n\">ax</span><span class=\"p\">,</span> <span class=\"n\">xywh1</span><span class=\"p\">,</span> <span class=\"n\">xywh2</span> <span class=\"o\">=</span> <span class=\"n\">tup</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">xywh2</span> <span class=\"o\">=</span> <span class=\"n\">xywh2</span>\n\n        <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">set_figtitle</span><span class=\"p\">(</span><span class=\"n\">figtitle</span> <span class=\"o\">+</span> <span class=\"s1\">&#39; &#39;</span> <span class=\"o\">+</span> <span class=\"n\">vh</span><span class=\"o\">.</span><span class=\"n\">get_vsstr</span><span class=\"p\">(</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"n\">aid</span><span class=\"p\">))</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.sv_view\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.sv_view\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">sv_view</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">dodraw</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot; spatial verification view</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"c1\">#fnum = viz.FNUMS[&#39;special&#39;]</span>\n        <span class=\"n\">aid</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span>\n        <span class=\"n\">fnum</span> <span class=\"o\">=</span> <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">()</span>\n        <span class=\"n\">fig</span> <span class=\"o\">=</span> <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">fnum</span><span class=\"p\">,</span> <span class=\"n\">docla</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">doclf</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">ih</span><span class=\"o\">.</span><span class=\"n\">disconnect_callback</span><span class=\"p\">(</span><span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"s1\">&#39;button_press_event&#39;</span><span class=\"p\">)</span>\n        <span class=\"n\">viz</span><span class=\"o\">.</span><span class=\"n\">viz_sver</span><span class=\"o\">.</span><span class=\"n\">show_sver</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"n\">aid2</span><span class=\"o\">=</span><span class=\"n\">aid</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">fnum</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">dodraw</span><span class=\"p\">:</span>\n            <span class=\"c1\">#self.draw()</span>\n            <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.show_coverage\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.show_coverage\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">show_coverage</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">dodraw</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        CommandLine:</span>\n<span class=\"sd\">            python -m ibeis.viz.interact.interact_matches --test-show_coverage --show</span>\n<span class=\"sd\">            python -m ibeis.viz.interact.interact_matches --test-show_coverage</span>\n\n<span class=\"sd\">        Example:</span>\n<span class=\"sd\">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>\n<span class=\"sd\">            &gt;&gt;&gt; from ibeis.viz.interact.interact_matches import *  # NOQA</span>\n<span class=\"sd\">            &gt;&gt;&gt; self = testdata_match_interact(mx=1)</span>\n<span class=\"sd\">            &gt;&gt;&gt; self.show_coverage(dodraw=False)</span>\n<span class=\"sd\">            &gt;&gt;&gt; pt.show_if_requested()</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">masks_list</span> <span class=\"o\">=</span> <span class=\"n\">scoring</span><span class=\"o\">.</span><span class=\"n\">get_masks</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"p\">)</span>\n        <span class=\"n\">scoring</span><span class=\"o\">.</span><span class=\"n\">show_coverage_mask</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"p\">,</span> <span class=\"n\">masks_list</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">dodraw</span><span class=\"p\">:</span>\n            <span class=\"c1\">#self.draw()</span>\n            <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.show_each_chip\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.show_each_chip\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">show_each_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">viz_chip</span><span class=\"o\">.</span><span class=\"n\">show_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">(),</span> <span class=\"n\">nokpts</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">viz_chip</span><span class=\"o\">.</span><span class=\"n\">show_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">(),</span> <span class=\"n\">nokpts</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n        <span class=\"c1\">#self.draw()</span>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.show_each_fgweight_chip\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.show_each_fgweight_chip\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">show_each_fgweight_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">viz_chip</span><span class=\"o\">.</span><span class=\"n\">show_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">(),</span>\n                           <span class=\"n\">weight_label</span><span class=\"o\">=</span><span class=\"s1\">&#39;fg_weights&#39;</span><span class=\"p\">)</span>\n        <span class=\"n\">viz_chip</span><span class=\"o\">.</span><span class=\"n\">show_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">(),</span>\n                           <span class=\"n\">weight_label</span><span class=\"o\">=</span><span class=\"s1\">&#39;fg_weights&#39;</span><span class=\"p\">)</span>\n        <span class=\"c1\">#self.draw()</span>\n        <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.show_each_dstncvs_chip\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.show_each_dstncvs_chip\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">show_each_dstncvs_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">dodraw</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        CommandLine:</span>\n<span class=\"sd\">            python -m ibeis.viz.interact.interact_matches --test-show_each_dstncvs_chip --show</span>\n\n<span class=\"sd\">        Example:</span>\n<span class=\"sd\">            &gt;&gt;&gt; # DISABLE_DOCTEST</span>\n<span class=\"sd\">            &gt;&gt;&gt; from ibeis.viz.interact.interact_matches import *  # NOQA</span>\n<span class=\"sd\">            &gt;&gt;&gt; self = testdata_match_interact(mx=1)</span>\n<span class=\"sd\">            &gt;&gt;&gt; self.show_each_dstncvs_chip(dodraw=False)</span>\n<span class=\"sd\">            &gt;&gt;&gt; pt.show_if_requested()</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">dstncvs1</span><span class=\"p\">,</span> <span class=\"n\">dstncvs2</span> <span class=\"o\">=</span> <span class=\"n\">scoring</span><span class=\"o\">.</span><span class=\"n\">get_kpts_distinctiveness</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span>\n                                                              <span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span>\n                                                               <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">])</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;dstncvs1_stats = &#39;</span> <span class=\"o\">+</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">get_stats_str</span><span class=\"p\">(</span><span class=\"n\">dstncvs1</span><span class=\"p\">))</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;dstncvs2_stats = &#39;</span> <span class=\"o\">+</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">get_stats_str</span><span class=\"p\">(</span><span class=\"n\">dstncvs2</span><span class=\"p\">))</span>\n        <span class=\"n\">weight_label</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;dstncvs&#39;</span>\n        <span class=\"n\">showkw</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">weight_label</span><span class=\"o\">=</span><span class=\"n\">weight_label</span><span class=\"p\">,</span> <span class=\"n\">ell</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">viz_chip</span><span class=\"o\">.</span><span class=\"n\">show_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"n\">weights</span><span class=\"o\">=</span><span class=\"n\">dstncvs1</span><span class=\"p\">,</span>\n                           <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">(),</span> <span class=\"o\">**</span><span class=\"n\">showkw</span><span class=\"p\">)</span>\n        <span class=\"n\">viz_chip</span><span class=\"o\">.</span><span class=\"n\">show_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">,</span> <span class=\"n\">weights</span><span class=\"o\">=</span><span class=\"n\">dstncvs2</span><span class=\"p\">,</span>\n                           <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">(),</span> <span class=\"o\">**</span><span class=\"n\">showkw</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">dodraw</span><span class=\"p\">:</span>\n            <span class=\"c1\">#self.draw()</span>\n            <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.show_each_probchip\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.show_each_probchip\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">show_each_probchip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">viz_hough</span><span class=\"o\">.</span><span class=\"n\">show_probability_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">())</span>\n        <span class=\"n\">viz_hough</span><span class=\"o\">.</span><span class=\"n\">show_probability_chip</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">())</span>\n        <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n        <span class=\"c1\">#self.draw()</span>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.dev_reload\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.dev_reload\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">dev_reload</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">ih</span><span class=\"o\">.</span><span class=\"n\">disconnect_callback</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"s1\">&#39;button_press_event&#39;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">rrr</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">set_callbacks</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.dev_embed\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.dev_embed\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">dev_embed</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">embed</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.toggle_samefig\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.toggle_samefig\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">toggle_samefig</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">same_fig</span> <span class=\"o\">=</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">same_fig</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mx</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">select_ith_match</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mx</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.query_last_feature\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.query_last_feature\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">query_last_feature</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">ibs</span>      <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span>\n        <span class=\"n\">qaid</span>     <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span>\n        <span class=\"n\">viz</span><span class=\"o\">.</span><span class=\"n\">show_nearest_descriptors</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">last_fx</span><span class=\"p\">,</span> <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">(),</span>\n                                     <span class=\"n\">qreq_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span><span class=\"p\">,</span> <span class=\"n\">draw_chip</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">fig3</span> <span class=\"o\">=</span> <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">gcf</span><span class=\"p\">()</span>\n        <span class=\"n\">ih</span><span class=\"o\">.</span><span class=\"n\">connect_callback</span><span class=\"p\">(</span><span class=\"n\">fig3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;button_press_event&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">on_click</span><span class=\"p\">)</span>\n        <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"MatchInteraction.get_popup_options\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.get_popup_options\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_popup_options</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"kn\">from</span> <span class=\"nn\">ibeis.gui</span> <span class=\"k\">import</span> <span class=\"n\">inspect_gui</span>\n        <span class=\"n\">options</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n\n        <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">gca</span><span class=\"p\">()</span>  <span class=\"c1\"># HACK</span>\n\n        <span class=\"kn\">from</span> <span class=\"nn\">plottool</span> <span class=\"k\">import</span> <span class=\"n\">plot_helpers</span> <span class=\"k\">as</span> <span class=\"n\">ph</span>\n        <span class=\"n\">viztype</span> <span class=\"o\">=</span> <span class=\"n\">ph</span><span class=\"o\">.</span><span class=\"n\">get_plotdat</span><span class=\"p\">(</span><span class=\"n\">ax</span><span class=\"p\">,</span> <span class=\"s1\">&#39;viztype&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;&#39;</span><span class=\"p\">)</span>\n        <span class=\"n\">is_match_type</span> <span class=\"o\">=</span> <span class=\"n\">viztype</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s1\">&#39;matches&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;multi_match&#39;</span><span class=\"p\">]</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">is_match_type</span><span class=\"p\">:</span>\n            <span class=\"n\">options</span> <span class=\"o\">+=</span> <span class=\"n\">inspect_gui</span><span class=\"o\">.</span><span class=\"n\">get_aidpair_context_menu_options</span><span class=\"p\">(</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"p\">,</span>\n                <span class=\"n\">qreq_</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qreq_</span><span class=\"p\">,</span>\n                <span class=\"c1\">#update_callback=self.show_page,</span>\n                <span class=\"c1\">#backend_callback=None, aid_list=aid_list)</span>\n            <span class=\"p\">)</span>\n\n        <span class=\"n\">options</span> <span class=\"o\">+=</span> <span class=\"p\">[</span>\n            <span class=\"c1\">#(&#39;Toggle same_fig&#39;, self.toggle_samefig),</span>\n            <span class=\"c1\">#(&#39;Toggle vert&#39;, self.toggle_vert),</span>\n            <span class=\"p\">(</span><span class=\"s1\">&#39;query last feature&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">query_last_feature</span><span class=\"p\">),</span>\n            <span class=\"p\">(</span><span class=\"s1\">&#39;show each chip&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">show_each_chip</span><span class=\"p\">),</span>\n            <span class=\"p\">(</span><span class=\"s1\">&#39;show each distinctiveness chip&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">show_each_dstncvs_chip</span><span class=\"p\">),</span>\n            <span class=\"p\">(</span><span class=\"s1\">&#39;show each foreground weight chip&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">show_each_fgweight_chip</span><span class=\"p\">),</span>\n            <span class=\"p\">(</span><span class=\"s1\">&#39;show each probchip&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">show_each_probchip</span><span class=\"p\">),</span>\n            <span class=\"p\">(</span><span class=\"s1\">&#39;show coverage&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">show_coverage</span><span class=\"p\">),</span>\n            <span class=\"c1\">#(&#39;show each probchip&#39;, self.query_last_feature),</span>\n        <span class=\"p\">]</span>\n\n        <span class=\"c1\">#options.append((&#39;name_interaction&#39;, self.name_interaction))</span>\n        <span class=\"c1\">#if self.H1 is not None:</span>\n        <span class=\"c1\">#    options.append((&#39;Toggle homog&#39;, self.toggle_homog))</span>\n        <span class=\"k\">if</span> <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">is_developer</span><span class=\"p\">():</span>\n            <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"s1\">&#39;dev_reload&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">dev_reload</span><span class=\"p\">))</span>\n            <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"s1\">&#39;dev_embed&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">dev_embed</span><span class=\"p\">))</span>\n        <span class=\"c1\">#options.append((&#39;cancel&#39;, lambda: print(&#39;cancel&#39;)))</span>\n        <span class=\"n\">options</span> <span class=\"o\">+=</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">MatchInteraction</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">get_popup_options</span><span class=\"p\">()</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">options</span></div>\n        <span class=\"c1\">#self.show_popup_menu(options, event)</span>\n\n    <span class=\"c1\"># Callback</span>\n<div class=\"viewcode-block\" id=\"MatchInteraction.on_click_inside\"><a class=\"viewcode-back\" href=\"../../../../../ibeis.viz.interact/#ibeis.viz.interact.interact_matches.MatchInteraction.on_click_inside\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">on_click_inside</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">,</span> <span class=\"n\">ax</span><span class=\"p\">):</span>\n        <span class=\"kn\">from</span> <span class=\"nn\">plottool</span> <span class=\"k\">import</span> <span class=\"n\">plot_helpers</span> <span class=\"k\">as</span> <span class=\"n\">ph</span>\n        <span class=\"n\">ibs</span>       <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ibs</span>\n        <span class=\"n\">viztype</span> <span class=\"o\">=</span> <span class=\"n\">ph</span><span class=\"o\">.</span><span class=\"n\">get_plotdat</span><span class=\"p\">(</span><span class=\"n\">ax</span><span class=\"p\">,</span> <span class=\"s1\">&#39;viztype&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;&#39;</span><span class=\"p\">)</span>\n        <span class=\"n\">is_match_type</span> <span class=\"o\">=</span> <span class=\"n\">viztype</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s1\">&#39;matches&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;multi_match&#39;</span><span class=\"p\">]</span>\n\n        <span class=\"n\">key</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;&#39;</span> <span class=\"k\">if</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">key</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"k\">else</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">key</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;key=</span><span class=\"si\">%r</span><span class=\"s1\"> &#39;</span> <span class=\"o\">%</span> <span class=\"n\">key</span><span class=\"p\">)</span>\n        <span class=\"n\">ctrl_down</span> <span class=\"o\">=</span> <span class=\"n\">key</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">(</span><span class=\"s1\">&#39;control&#39;</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">0</span>\n        <span class=\"c1\"># Click in match axes</span>\n        <span class=\"k\">if</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">button</span> <span class=\"o\">==</span> <span class=\"mi\">3</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">MatchInteraction</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">on_click_inside</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"p\">,</span> <span class=\"n\">ax</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">is_match_type</span> <span class=\"ow\">and</span> <span class=\"n\">ctrl_down</span><span class=\"p\">:</span>\n            <span class=\"c1\"># Ctrl-Click</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;.. control click&#39;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sv_view</span><span class=\"p\">()</span>\n        <span class=\"k\">elif</span> <span class=\"n\">viztype</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s1\">&#39;warped&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;unwarped&#39;</span><span class=\"p\">]:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;clicked at patch&#39;</span><span class=\"p\">)</span>\n            <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">print_dict</span><span class=\"p\">(</span><span class=\"n\">ph</span><span class=\"o\">.</span><span class=\"n\">get_plotdat_dict</span><span class=\"p\">(</span><span class=\"n\">ax</span><span class=\"p\">))</span>\n            <span class=\"n\">hs_aid</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n                <span class=\"s1\">&#39;aid1&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">qaid</span><span class=\"p\">,</span>\n                <span class=\"s1\">&#39;aid2&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daid</span><span class=\"p\">,</span>\n            <span class=\"p\">}[</span><span class=\"n\">vh</span><span class=\"o\">.</span><span class=\"n\">get_ibsdat</span><span class=\"p\">(</span><span class=\"n\">ax</span><span class=\"p\">,</span> <span class=\"s1\">&#39;aid&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)]</span>\n            <span class=\"n\">hs_fx</span> <span class=\"o\">=</span> <span class=\"n\">vh</span><span class=\"o\">.</span><span class=\"n\">get_ibsdat</span><span class=\"p\">(</span><span class=\"n\">ax</span><span class=\"p\">,</span> <span class=\"s1\">&#39;fx&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hs_fx = </span><span class=\"si\">%r</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">hs_fx</span><span class=\"p\">,))</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;hs_aid = </span><span class=\"si\">%r</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">hs_aid</span><span class=\"p\">,))</span>\n            <span class=\"k\">if</span> <span class=\"n\">hs_aid</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span> <span class=\"ow\">and</span> <span class=\"n\">viztype</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;unwarped&#39;</span><span class=\"p\">:</span>\n                <span class=\"n\">ishow_chip</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">hs_aid</span><span class=\"p\">,</span> <span class=\"n\">fx</span><span class=\"o\">=</span><span class=\"n\">hs_fx</span><span class=\"p\">,</span> <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">())</span>\n            <span class=\"k\">elif</span> <span class=\"n\">hs_aid</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span> <span class=\"ow\">and</span> <span class=\"n\">viztype</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;warped&#39;</span><span class=\"p\">:</span>\n                <span class=\"n\">viz</span><span class=\"o\">.</span><span class=\"n\">show_keypoint_gradient_orientations</span><span class=\"p\">(</span><span class=\"n\">ibs</span><span class=\"p\">,</span> <span class=\"n\">hs_aid</span><span class=\"p\">,</span> <span class=\"n\">hs_fx</span><span class=\"p\">,</span>\n                                                        <span class=\"n\">fnum</span><span class=\"o\">=</span><span class=\"n\">pt</span><span class=\"o\">.</span><span class=\"n\">next_fnum</span><span class=\"p\">())</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">MatchInteraction</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">on_click_inside</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"p\">,</span> <span class=\"n\">ax</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">draw</span><span class=\"p\">()</span></div></div>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    CommandLine:</span>\n<span class=\"sd\">        python -m ibeis.viz.interact.interact_matches</span>\n<span class=\"sd\">        python -m ibeis.viz.interact.interact_matches --allexamples</span>\n<span class=\"sd\">        python -m ibeis.viz.interact.interact_matches --allexamples --noface --nosrc</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">multiprocessing</span>\n    <span class=\"n\">multiprocessing</span><span class=\"o\">.</span><span class=\"n\">freeze_support</span><span class=\"p\">()</span>  <span class=\"c1\"># for win32</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>  <span class=\"c1\"># NOQA</span>\n    <span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">doctest_funcs</span><span class=\"p\">()</span>\n</pre></div>", "current_page_name": "_modules/ibeis/viz/interact/interact_matches", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}