{"parents": [{"link": "../../", "title": "Module code"}, {"link": "../", "title": "ibeis"}], "title": "ibeis.viz", "body": "<h1>Source code for ibeis.viz</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"c1\">### __init__.py ###</span>\n<span class=\"c1\"># flake8: noqa</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"k\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">utool</span> <span class=\"k\">as</span> <span class=\"nn\">ut</span>\n<span class=\"n\">ut</span><span class=\"o\">.</span><span class=\"n\">noinject</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">,</span> <span class=\"s1\">&#39;[ibeis.viz.__init__]&#39;</span><span class=\"p\">,</span> <span class=\"n\">DEBUG</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_chip</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_helpers</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_hough</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_image</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_matches</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_name</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_nearest_descriptors</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_qres</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_sver</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_graph2</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_other</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">viz_helpers</span> <span class=\"k\">as</span> <span class=\"n\">vh</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_helpers</span> <span class=\"k\">import</span> <span class=\"n\">draw</span><span class=\"p\">,</span> <span class=\"n\">kp_info</span><span class=\"p\">,</span> <span class=\"n\">show_keypoint_gradient_orientations</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_image</span> <span class=\"k\">import</span> <span class=\"n\">show_image</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_chip</span> <span class=\"k\">import</span> <span class=\"n\">show_chip</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_name</span> <span class=\"k\">import</span> <span class=\"n\">show_name</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_qres</span> <span class=\"k\">import</span> <span class=\"n\">show_qres</span><span class=\"p\">,</span> <span class=\"n\">show_qres_top</span><span class=\"p\">,</span> <span class=\"n\">show_qres_analysis</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_sver</span> <span class=\"k\">import</span> <span class=\"n\">show_sver</span><span class=\"p\">,</span> <span class=\"n\">_compute_svvars</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_nearest_descriptors</span> <span class=\"k\">import</span> <span class=\"n\">show_nearest_descriptors</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_hough</span> <span class=\"k\">import</span> <span class=\"n\">show_hough_image</span><span class=\"p\">,</span> <span class=\"n\">show_probability_chip</span>\n<span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz.viz_other</span> <span class=\"k\">import</span> <span class=\"n\">chip_montage</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">utool</span>\n<span class=\"nb\">print</span><span class=\"p\">,</span> <span class=\"n\">rrr</span><span class=\"p\">,</span> <span class=\"n\">profile</span> <span class=\"o\">=</span> <span class=\"n\">utool</span><span class=\"o\">.</span><span class=\"n\">inject2</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">__LOADED__</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n\n<div class=\"viewcode-block\" id=\"import_subs\"><a class=\"viewcode-back\" href=\"../../../ibeis.viz/#ibeis.viz.import_subs\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">import_subs</span><span class=\"p\">():</span>\n    <span class=\"k\">global</span> <span class=\"n\">__LOADED__</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">ibeis.viz</span> <span class=\"k\">import</span> <span class=\"n\">interact</span>\n    <span class=\"n\">__LOADED__</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></div>\n\n\n<div class=\"viewcode-block\" id=\"reassign_submodule_attributes\"><a class=\"viewcode-back\" href=\"../../../ibeis.viz/#ibeis.viz.reassign_submodule_attributes\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">reassign_submodule_attributes</span><span class=\"p\">(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    why reloading all the modules doesnt do this I don&#39;t know</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n    <span class=\"k\">if</span> <span class=\"n\">verbose</span> <span class=\"ow\">and</span> <span class=\"s1\">&#39;--quiet&#39;</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">argv</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;dev reimport&#39;</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Self import</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">ibeis.viz</span>\n    <span class=\"c1\"># Implicit reassignment.</span>\n    <span class=\"n\">seen_</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">([])</span>\n    <span class=\"k\">for</span> <span class=\"n\">tup</span> <span class=\"ow\">in</span> <span class=\"n\">IMPORT_TUPLES</span><span class=\"p\">:</span>\n        <span class=\"n\">submodname</span><span class=\"p\">,</span> <span class=\"n\">fromimports</span> <span class=\"o\">=</span> <span class=\"n\">tup</span>\n        <span class=\"n\">submod</span> <span class=\"o\">=</span> <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">ibeis</span><span class=\"o\">.</span><span class=\"n\">viz</span><span class=\"p\">,</span> <span class=\"n\">submodname</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">attr</span> <span class=\"ow\">in</span> <span class=\"nb\">dir</span><span class=\"p\">(</span><span class=\"n\">submod</span><span class=\"p\">):</span>\n            <span class=\"k\">if</span> <span class=\"n\">attr</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"s1\">&#39;_&#39;</span><span class=\"p\">):</span>\n                <span class=\"k\">continue</span>\n            <span class=\"k\">if</span> <span class=\"n\">attr</span> <span class=\"ow\">in</span> <span class=\"n\">seen_</span><span class=\"p\">:</span>\n                <span class=\"c1\"># This just holds off bad behavior</span>\n                <span class=\"c1\"># but it does mimic normal util_import behavior</span>\n                <span class=\"c1\"># which is good</span>\n                <span class=\"k\">continue</span>\n            <span class=\"n\">seen_</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">attr</span><span class=\"p\">)</span>\n            <span class=\"nb\">setattr</span><span class=\"p\">(</span><span class=\"n\">ibeis</span><span class=\"o\">.</span><span class=\"n\">viz</span><span class=\"p\">,</span> <span class=\"n\">attr</span><span class=\"p\">,</span> <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">submod</span><span class=\"p\">,</span> <span class=\"n\">attr</span><span class=\"p\">))</span></div>\n\n\n<div class=\"viewcode-block\" id=\"reload_subs\"><a class=\"viewcode-back\" href=\"../../../ibeis.viz/#ibeis.viz.reload_subs\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">reload_subs</span><span class=\"p\">(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot; Reloads ibeis.viz and submodules &quot;&quot;&quot;</span>\n    <span class=\"n\">rrr</span><span class=\"p\">(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"k\">def</span> <span class=\"nf\">fbrrr</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot; fallback reload &quot;&quot;&quot;</span>\n        <span class=\"k\">pass</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_chip</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_helpers</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_hough</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_image</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_matches</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_name</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_nearest_descriptors</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_qres</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">viz_sver</span><span class=\"p\">,</span> <span class=\"s1\">&#39;rrr&#39;</span><span class=\"p\">,</span> <span class=\"n\">fbrrr</span><span class=\"p\">)(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"n\">rrr</span><span class=\"p\">(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"c1\"># hackish way of propogating up the new reloaded submodule attributes</span>\n        <span class=\"n\">reassign_submodule_attributes</span><span class=\"p\">(</span><span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">verbose</span><span class=\"p\">)</span>\n    <span class=\"k\">except</span> <span class=\"ne\">Exception</span> <span class=\"k\">as</span> <span class=\"n\">ex</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ex</span><span class=\"p\">)</span></div>\n<span class=\"n\">rrrr</span> <span class=\"o\">=</span> <span class=\"n\">reload_subs</span>\n\n<span class=\"n\">IMPORT_TUPLES</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_chip&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_helpers&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_hough&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_image&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_matches&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_name&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_nearest_descriptors&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_qres&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;viz_sver&#39;</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span>\n<span class=\"p\">]</span>\n\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">Regen Command:</span>\n<span class=\"sd\">    cd /home/joncrall/code/ibeis/ibeis/viz</span>\n<span class=\"sd\">    makeinit.py</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n</pre></div>", "current_page_name": "_modules/ibeis/viz", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}